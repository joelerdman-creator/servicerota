{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/data.ts"],"sourcesContent":["\n'use client';\n\nimport type { Event, Role, Volunteer, RoleStatus, UniversalRole, ServiceTemplate, TemplateRole, VolunteerAvailability, VolunteerPreferences, Church, Family } from '@/types';\nimport { useState, useCallback, useMemo } from 'react';\nimport { startOfToday, addDays, subDays, isSameDay } from 'date-fns';\n\nconst MOCK_CHURCH_ID = 'church_123';\nconst MOCK_VOLUNTEER_ID = 'user_volunteer_1';\nconst MOCK_FAMILY_ID = 'family_1';\n\nconst today = startOfToday();\n\nconst initialChurch: Church = {\n    id: MOCK_CHURCH_ID,\n    name: \"St. Francis' Church\",\n    address: \"123 Gospel Lane, Anytown, USA 12345\",\n    phone: \"(555) 123-4567\",\n    adminName: \"John Smith\",\n    adminEmail: \"admin@stfrancis.org\",\n    publishedMonths: [`${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}`],\n}\n\nconst initialFamilies: Family[] = [\n    {\n        id: MOCK_FAMILY_ID,\n        members: [\n            { id: 'user_volunteer_1', name: 'Alice Johnson', isPrimary: true },\n            { id: 'user_volunteer_5', name: 'Steve Johnson', isPrimary: false },\n        ]\n    }\n]\n\nconst initialVolunteers: Volunteer[] = [\n  { \n    id: 'user_volunteer_1', \n    name: 'Alice Johnson', \n    email: 'alice@example.com', \n    phone: '555-0101',\n    familyId: MOCK_FAMILY_ID,\n    preferences: {\n      preferredRoleIds: ['urole_1', 'urole_5'],\n      servingFrequency: 'bi-weekly',\n      familyServingPreference: 'possible',\n      familyManagementEnabled: true,\n    }\n  },\n  { \n    id: 'user_volunteer_2', \n    name: 'Bob Williams', \n    email: 'bob@example.com', \n    phone: '555-0102',\n    preferences: {\n      preferredRoleIds: ['urole_2', 'urole_3'],\n      servingFrequency: 'monthly',\n      familyServingPreference: 'any',\n      familyManagementEnabled: false,\n    }\n  },\n  { \n    id: 'user_volunteer_3', \n    name: 'Charlie Brown', \n    email: 'charlie@example.com', \n    phone: '555-0103',\n    preferences: {\n      preferredRoleIds: ['urole_4'],\n      servingFrequency: 'weekly',\n      familyServingPreference: 'any',\n      familyManagementEnabled: false,\n    }\n  },\n   { \n    id: 'user_volunteer_4', \n    name: 'Diana Prince', \n    email: 'diana@example.com', \n    phone: '555-0104',\n    preferences: {\n      preferredRoleIds: ['urole_1', 'urole_2', 'urole_3'],\n      servingFrequency: 'as-needed',\n      familyServingPreference: 'any',\n      familyManagementEnabled: false,\n    }\n  },\n  { \n    id: 'user_volunteer_5', \n    name: 'Steve Johnson', \n    email: 'steve@example.com', \n    phone: '555-0105',\n    familyId: MOCK_FAMILY_ID,\n    preferences: {\n      preferredRoleIds: ['urole_4'],\n      servingFrequency: 'monthly',\n      familyServingPreference: 'possible',\n      familyManagementEnabled: true,\n    }\n  },\n];\n\nconst initialUniversalRoles: UniversalRole[] = [\n    { id: 'urole_1', name: 'Lector', description: \"Reads the lessons for the day.\"},\n    { id: 'urole_2', name: 'Usher', description: \"Welcomes attendees and assists with seating.\"},\n    { id: 'urole_3', name: 'Acolyte', description: \"Assists the clergy during the service.\"},\n    { id: 'urole_4', name: 'Coffee Hour Host', description: \"Prepares and serves refreshments after the service.\"},\n    { id: 'urole_5', name: 'Altar Guild', description: \"Prepares the altar and sacred vessels for worship.\"},\n]\n\nconst initialServiceTemplates: ServiceTemplate[] = [\n    {\n        id: 'template_1',\n        name: 'Sunday Morning Eucharist',\n        roles: [\n            { instanceId: 'tr_1', roleId: 'urole_1', name: 'Lector' },\n            { instanceId: 'tr_2', roleId: 'urole_2', name: 'Usher' },\n            { instanceId: 'tr_3', roleId: 'urole_2', name: 'Usher' },\n            { instanceId: 'tr_4', roleId: 'urole_3', name: 'Acolyte' },\n        ]\n    },\n    {\n        id: 'template_2',\n        name: 'Wednesday Healing Service',\n        roles: [\n            { instanceId: 'tr_5', roleId: 'urole_1', name: 'Lector' },\n            { instanceId: 'tr_6', roleId: 'urole_2', name: 'Usher' },\n        ]\n    }\n];\n\n\nconst initialEvents: Event[] = [\n  {\n    id: 'event_1',\n    churchId: MOCK_CHURCH_ID,\n    eventName: 'Sunday Morning Eucharist',\n    eventDate: addDays(today, 3),\n    notes: 'This is the main Sunday service.',\n    roles: [\n      { id: 'role_1', roleName: 'Lector', assignedVolunteerId: 'user_volunteer_1', assignedVolunteerName: 'Alice Johnson', status: 'Pending' },\n      { id: 'role_2', roleName: 'Usher', assignedVolunteerId: 'user_volunteer_2', assignedVolunteerName: 'Bob Williams', status: 'Confirmed' },\n    ],\n  },\n  {\n    id: 'event_2',\n    churchId: MOCK_CHURCH_ID,\n    eventName: 'Wednesday Healing Service',\n    eventDate: addDays(today, 6),\n    roles: [\n      { id: 'role_3', roleName: 'Lector', assignedVolunteerId: 'user_volunteer_1', assignedVolunteerName: 'Alice Johnson', status: 'Pending' },\n      { id: 'role_4', roleName: 'Usher', assignedVolunteerId: null, assignedVolunteerName: null, status: 'Pending' },\n    ],\n  },\n  {\n    id: 'event_3',\n    churchId: MOCK_CHURCH_ID,\n    eventName: 'Sunday Morning Eucharist',\n    eventDate: addDays(today, 10),\n    roles: [\n      { id: 'role_5', roleName: 'Lector', assignedVolunteerId: 'user_volunteer_3', assignedVolunteerName: 'Charlie Brown', status: 'Confirmed' },\n      { id: 'role_6', roleName: 'Usher', assignedVolunteerId: 'user_volunteer_1', assignedVolunteerName: 'Alice Johnson', status: 'Declined' },\n    ],\n  },\n  {\n    id: 'event_4',\n    churchId: MOCK_CHURCH_ID,\n    eventName: 'Past Service',\n    eventDate: subDays(today, 4),\n    roles: [\n      { id: 'role_7', roleName: 'Acolyte', assignedVolunteerId: 'user_volunteer_1', assignedVolunteerName: 'Alice Johnson', status: 'Confirmed' },\n    ],\n  }\n];\n\nconst initialVolunteerAvailability: VolunteerAvailability[] = [\n  {\n    volunteerId: 'user_volunteer_1',\n    unavailableDates: [addDays(today, 5), addDays(today, 12)]\n  },\n  {\n    volunteerId: 'user_volunteer_2',\n    unavailableDates: []\n  },\n  {\n    volunteerId: 'user_volunteer_5',\n    unavailableDates: [addDays(today, 5), addDays(today, 12)]\n  },\n]\n\n// This hook simulates a database connection.\nexport function useMockDatabase() {\n    const [church, setChurch] = useState<Church>(initialChurch);\n    const [events, setEvents] = useState<Event[]>(initialEvents);\n    const [volunteers, setVolunteers] = useState<Volunteer[]>(initialVolunteers);\n    const [universalRoles, setUniversalRoles] = useState<UniversalRole[]>(initialUniversalRoles);\n    const [serviceTemplates, setServiceTemplates] = useState<ServiceTemplate[]>(initialServiceTemplates);\n    const [volunteerAvailability, setVolunteerAvailability] = useState<VolunteerAvailability[]>(initialVolunteerAvailability);\n    const [families, setFamilies] = useState<Family[]>(initialFamilies);\n\n    const sleep = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\n\n    const getChurch = useCallback(async () => {\n        await sleep(200);\n        return church;\n    }, [church]);\n\n    const getChurchSync = useCallback(() => {\n        return church;\n    }, [church]);\n\n    const updateChurch = useCallback(async (data: Partial<Church>) => {\n        await sleep(500);\n        setChurch(prev => ({ ...prev, ...data }));\n    }, []);\n\n    const getEvents = useCallback(async (churchId: string) => {\n        await sleep(300);\n        return events.filter(event => event.churchId === churchId);\n    }, [events]);\n    \n    const getMyAssignments = useCallback(async (volunteerId: string) => {\n        await sleep(400);\n        return events.filter(event => \n            event.roles.some(role => role.assignedVolunteerId === volunteerId)\n        );\n    }, [events]);\n\n    const createEvent = useCallback(async (newEventData: Omit<Event, 'id' | 'roles' | 'churchId'>, templateId?: string) => {\n        await sleep(500);\n        const template = serviceTemplates.find(t => t.id === templateId);\n        const newRoles: Role[] = template ? template.roles.map(tr => ({\n            id: `role_${Date.now()}_${Math.random()}`,\n            roleName: tr.name,\n            assignedVolunteerId: null,\n            assignedVolunteerName: null,\n            status: 'Pending'\n        })) : [];\n\n        const newEvent: Event = {\n            ...newEventData,\n            id: `event_${Date.now()}`,\n            churchId: MOCK_CHURCH_ID,\n            roles: newRoles,\n        };\n        setEvents(prev => [...prev, newEvent]);\n        return newEvent;\n    }, [serviceTemplates]);\n\n    const getVolunteers = useCallback(async () => {\n        await sleep(300);\n        return volunteers;\n    }, [volunteers]);\n\n    const getVolunteersSync = useCallback(() => {\n        return volunteers;\n    }, [volunteers]);\n    \n    const updateVolunteerPreferences = useCallback(async (volunteerId: string, preferences: VolunteerPreferences) => {\n        await sleep(500);\n        setVolunteers(prev => prev.map(v => \n            v.id === volunteerId ? { ...v, preferences } : v\n        ));\n    }, []);\n\n    // Universal Roles\n    const getUniversalRoles = useCallback(async () => {\n        await sleep(200);\n        return universalRoles;\n    }, [universalRoles]);\n\n    const addUniversalRole = useCallback(async (name: string, description?: string) => {\n        await sleep(400);\n        const newRole: UniversalRole = {\n            id: `urole_${Date.now()}`,\n            name,\n            description,\n        };\n        setUniversalRoles(prev => [...prev, newRole]);\n        return newRole;\n    }, []);\n    \n    const updateUniversalRole = useCallback(async (id: string, data: Partial<Omit<UniversalRole, 'id'>>) => {\n        await sleep(400);\n        setUniversalRoles(prev => prev.map(r => r.id === id ? {...r, ...data} : r));\n    }, []);\n\n    const deleteUniversalRole = useCallback(async (id: string) => {\n        await sleep(400);\n        setUniversalRoles(prev => prev.filter(r => r.id !== id));\n        // Also remove from templates\n        setServiceTemplates(prev => prev.map(st => ({\n            ...st,\n            roles: st.roles.filter(r => r.roleId !== id)\n        })));\n    }, []);\n\n    // Service Templates\n    const getServiceTemplates = useCallback(async () => {\n        await sleep(200);\n        return serviceTemplates;\n    }, [serviceTemplates]);\n\n    const createServiceTemplate = useCallback(async (name: string, roles: TemplateRole[]) => {\n        await sleep(500);\n        const newTemplate: ServiceTemplate = {\n            id: `template_${Date.now()}`,\n            name,\n            roles,\n        };\n        setServiceTemplates(prev => [...prev, newTemplate]);\n        return newTemplate;\n    }, []);\n\n    const updateServiceTemplate = useCallback(async (id: string, data: Partial<Omit<ServiceTemplate, 'id'>>) => {\n        await sleep(500);\n        setServiceTemplates(prev => prev.map(t => t.id === id ? { ...t, ...data } : t));\n    }, []);\n    \n    const deleteServiceTemplate = useCallback(async (id: string) => {\n        await sleep(400);\n        setServiceTemplates(prev => prev.filter(t => t.id !== id));\n    }, []);\n\n    // Roles within events\n    const addRoleToEvent = useCallback(async (eventId: string, newRoleData: Omit<Role, 'id'>) => {\n        await sleep(400);\n        const newRole: Role = {\n            ...newRoleData,\n            id: `role_${Date.now()}`,\n        };\n        setEvents(prev => prev.map(event =>\n            event.id === eventId\n                ? { ...event, roles: [...event.roles, newRole] }\n                : event\n        ));\n    }, []);\n    \n    const updateRoleInEvent = useCallback(async (eventId: string, roleId: string, updates: Partial<Role>) => {\n        await sleep(400);\n        setEvents(prev => prev.map(event =>\n            event.id === eventId\n                ? { ...event, roles: event.roles.map(role => role.id === roleId ? { ...role, ...updates } : role) }\n                : event\n        ));\n    }, []);\n    \n    const deleteRoleFromEvent = useCallback(async (eventId: string, roleId: string) => {\n        await sleep(400);\n        setEvents(prev => prev.map(event =>\n            event.id === eventId\n                ? { ...event, roles: event.roles.filter(role => role.id !== roleId) }\n                : event\n        ));\n    }, []);\n\n    // Availability\n    const getVolunteerAvailability = useCallback(async (volunteerId: string) => {\n        await sleep(300);\n        if (volunteerId === 'all') {\n            // Special case for 'all family members'\n             const family = families.find(f => f.members.some(m => m.id === MOCK_VOLUNTEER_ID));\n             if (!family) return [];\n             const memberIds = family.members.map(m => m.id);\n             \n             // Get all unavailable dates for all family members\n             const allDates = volunteerAvailability\n                .filter(va => memberIds.includes(va.volunteerId))\n                .flatMap(va => va.unavailableDates);\n            \n            // Find dates where *all* members are unavailable\n            const commonUnavailableDates = allDates.filter(date => {\n                return memberIds.every(memberId => {\n                    return volunteerAvailability.find(va => va.volunteerId === memberId)?.unavailableDates.some(d => isSameDay(d, date));\n                });\n            });\n\n             return commonUnavailableDates;\n        }\n\n        const availability = volunteerAvailability.find(va => va.volunteerId === volunteerId);\n        return availability ? availability.unavailableDates : [];\n    }, [volunteerAvailability, families]);\n\n    const toggleVolunteerAvailability = useCallback(async (volunteerId: string, date: Date) => {\n        await sleep(200);\n        setVolunteerAvailability(prev => {\n            const availabilityIndex = prev.findIndex(va => va.volunteerId === volunteerId);\n            if (availabilityIndex > -1) {\n                const existing = prev[availabilityIndex];\n                const isUnavailable = existing.unavailableDates.some(d => isSameDay(d, date));\n                const newDates = isUnavailable\n                    ? existing.unavailableDates.filter(d => !isSameDay(d, date))\n                    : [...existing.unavailableDates, date];\n                const newAvailability = { ...existing, unavailableDates: newDates };\n                const newFullList = [...prev];\n                newFullList[availabilityIndex] = newAvailability;\n                return newFullList;\n            } else {\n                // If no record exists, create one\n                return [...prev, { volunteerId, unavailableDates: [date] }];\n            }\n        });\n    }, []);\n    \n    // Family Management\n    const getFamilyByVolunteerId = useCallback(async (volunteerId: string) => {\n        await sleep(300);\n        const volunteer = volunteers.find(v => v.id === volunteerId);\n        if (volunteer && volunteer.preferences.familyManagementEnabled) {\n            return families.find(f => f.id === volunteer.familyId) || null;\n        }\n        return null;\n    }, [volunteers, families]);\n    \n    const addFamilyMember = useCallback(async (familyId: string, name: string, email: string) => {\n        await sleep(500);\n        // Create a new volunteer for this family member\n        const newVolunteer: Volunteer = {\n            id: `user_volunteer_${Date.now()}`,\n            name,\n            email,\n            phone: '',\n            familyId,\n            preferences: {\n                preferredRoleIds: [],\n                servingFrequency: 'as-needed',\n                familyServingPreference: 'any',\n                familyManagementEnabled: false, // Only primary can manage\n            }\n        };\n        setVolunteers(prev => [...prev, newVolunteer]);\n        \n        // Add them to the family\n        setFamilies(prev => prev.map(f => {\n            if (f.id === familyId) {\n                return {\n                    ...f,\n                    members: [...f.members, { id: newVolunteer.id, name, isPrimary: false }]\n                }\n            }\n            return f;\n        }));\n    }, []);\n    \n    const removeFamilyMember = useCallback(async (familyId: string, volunteerId: string) => {\n        await sleep(400);\n        // Remove from family\n        setFamilies(prev => prev.map(f => {\n             if (f.id === familyId) {\n                return {\n                    ...f,\n                    members: f.members.filter(m => m.id !== volunteerId)\n                }\n            }\n            return f;\n        }));\n        // Remove volunteer record\n        setVolunteers(prev => prev.filter(v => v.id !== volunteerId));\n    }, []);\n\n    // A simple way to get all data at once for polling\n    const pollableData = useMemo(() => ({\n        events,\n        volunteers,\n        universalRoles,\n        serviceTemplates,\n    }), [events, volunteers, universalRoles, serviceTemplates]);\n\n\n    return {\n        // --- READS ---\n        getChurch,\n        getChurchSync,\n        getEvents,\n        getMyAssignments,\n        getVolunteers,\n        getVolunteersSync,\n        getUniversalRoles,\n        getServiceTemplates,\n        getVolunteerAvailability,\n        getFamilyByVolunteerId,\n        pollableData,\n        // --- WRITES ---\n        updateChurch,\n        createEvent,\n        updateVolunteerPreferences,\n        addUniversalRole,\n        updateUniversalRole,\n        deleteUniversalRole,\n        createServiceTemplate,\n        updateServiceTemplate,\n        deleteServiceTemplate,\n        addRoleToEvent,\n        updateRoleInEvent,\n        deleteRoleFromEvent,\n        toggleVolunteerAvailability,\n        addFamilyMember,\n        removeFamilyMember,\n        // --- CONSTANTS ---\n        MOCK_CHURCH_ID,\n        MOCK_VOLUNTEER_ID,\n        // For easy access in components\n        events: events.filter(e => e.churchId === MOCK_CHURCH_ID),\n        serviceTemplates,\n        universalRoles\n    };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 828, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/hooks/use-wizard.tsx"],"sourcesContent":["\n'use client';\n\nimport React, { createContext, useContext, useState, ReactNode } from 'react';\n\ninterface Step {\n  id: string;\n  name: string;\n  component: React.ComponentType<any>;\n}\n\ninterface WizardContextType {\n  steps: Step[];\n  activeStep: number;\n  isFirstStep: boolean;\n  isLastStep: boolean;\n  isProcessing: boolean;\n  setIsProcessing: (isProcessing: boolean) => void;\n  goToNextStep: () => void;\n  goToPreviousStep: () => void;\n  onFinish: () => Promise<void> | void;\n  onSkip: () => void;\n}\n\nconst WizardContext = createContext<WizardContextType | undefined>(undefined);\n\nexport function WizardProvider({ steps, onFinish, onSkip, children }: { steps: Step[]; onFinish: () => void; onSkip: () => void; children: ReactNode }) {\n  const [activeStep, setActiveStep] = useState(0);\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const isFirstStep = activeStep === 0;\n  const isLastStep = activeStep === steps.length - 1;\n\n  const goToNextStep = async () => {\n    if (isLastStep) {\n        setIsProcessing(true);\n        try {\n            await onFinish();\n        } finally {\n            setIsProcessing(false);\n        }\n    } else {\n       setActiveStep((prev) => prev + 1);\n    }\n  };\n\n  const goToPreviousStep = () => {\n    if (!isFirstStep) {\n      setActiveStep((prev) => prev - 1);\n    }\n  };\n\n  const value = {\n    steps,\n    activeStep,\n    isFirstStep,\n    isLastStep,\n    isProcessing,\n    setIsProcessing,\n    goToNextStep,\n    goToPreviousStep,\n    onFinish,\n    onSkip,\n  };\n\n  return <WizardContext.Provider value={value}>{children}</WizardContext.Provider>;\n}\n\nexport function useWizard() {\n  const context = useContext(WizardContext);\n  if (context === undefined) {\n    throw new Error('useWizard must be used within a WizardProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;AAGA;;;AAFA;;AAuBA,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAiC;AAE5D,SAAS,eAAe,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAoF;;IACpJ,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,cAAc,eAAe;IACnC,MAAM,aAAa,eAAe,MAAM,MAAM,GAAG;IAEjD,MAAM,eAAe;QACnB,IAAI,YAAY;YACZ,gBAAgB;YAChB,IAAI;gBACA,MAAM;YACV,SAAU;gBACN,gBAAgB;YACpB;QACJ,OAAO;YACJ,cAAc,CAAC,OAAS,OAAO;QAClC;IACF;IAEA,MAAM,mBAAmB;QACvB,IAAI,CAAC,aAAa;YAChB,cAAc,CAAC,OAAS,OAAO;QACjC;IACF;IAEA,MAAM,QAAQ;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,6LAAC,cAAc,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAChD;GAxCgB;KAAA;AA0CT,SAAS;;IACd,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}},
    {"offset": {"line": 905, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/extract-schedule-data-flow.ts"],"sourcesContent":["\n'use server';\n/**\n * @fileOverview Extracts structured data from a volunteer schedule document.\n * \n * - extractScheduleData - A function that parses a document and extracts volunteer, role, and event data.\n * - ExtractScheduleDataInput - The input type for the function.\n * - ExtractedScheduleData - The return type for the function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport type { ExtractScheduleDataInput, ExtractedScheduleData } from '@/ai/schemas/extract-schedule-data-schema';\nimport { ExtractScheduleDataInputSchema, ExtractedScheduleDataSchema } from '@/ai/schemas/extract-schedule-data-schema';\n\n\nexport async function extractScheduleData(input: ExtractScheduleDataInput): Promise<ExtractedScheduleData> {\n  const prompt = ai.definePrompt({\n    name: 'extractScheduleDataPrompt',\n    input: { schema: ExtractScheduleDataInputSchema },\n    output: { schema: ExtractedScheduleDataSchema },\n    prompt: `You are an expert data extraction assistant for a church volunteer scheduling app called Weaver's Loom. Your task is to analyze the provided document and extract all relevant scheduling information.\n\nThe document is a volunteer schedule. It could be a PDF, Word document, or an Excel spreadsheet.\n\nAnalyze the document provided via the data URI: {{media url=documentDataUri}}\n\nExtract the following information:\n\n1.  **Volunteers**: Identify every unique person mentioned as a volunteer. Extract their full name. If available, also extract their email and phone number.\n2.  **Roles**: Identify all the unique volunteer roles mentioned (e.g., \"Lector\", \"Usher\", \"Acolyte\", \"Coffee Hour Host\"). For each role, provide a simple, friendly one-sentence description.\n3.  **Events**: List every specific service or event instance. For each event, extract its name (e.g., \"Sunday Morning Eucharist\"), its full date and time (as an ISO 8601 string), and a list of roles required for that specific event, including who is assigned to each role.\n4.  **Templates**: Analyze the events to find recurring patterns. If multiple events have the same name and a similar set of roles (e.g., every \"Sunday Morning Eucharist\" has a Lector, two Ushers, and an Acolyte), create a suggested service template. The template should have a name and a list of the role names it includes.\n\nReturn the extracted data in the structured JSON format defined by the output schema. Pay close attention to data types and formats, especially for dates.`,\n  });\n\n  const { output } = await prompt(input);\n  return output!;\n}\n"],"names":[],"mappings":";;;;;;IAesB,sBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 921, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/schemas/extract-schedule-data-schema.ts"],"sourcesContent":["\n'use client';\nimport { z } from 'zod';\n\nexport const ExtractedVolunteerSchema = z.object({\n  name: z.string().describe('The full name of the volunteer.'),\n  email: z.string().optional().describe('The email address, if found.'),\n  phone: z.string().optional().describe('The phone number, if found.'),\n});\n\nexport const ExtractedRoleSchema = z.object({\n    name: z.string().describe('The name of the volunteer role.'),\n    description: z.string().optional().describe('A generated one-sentence description of the role.'),\n});\n\nexport const ExtractedEventSchema = z.object({\n    eventName: z.string().describe('The name of the service or event.'),\n    eventDate: z.string().datetime().describe('The date and time of the event in ISO 8601 format.'),\n    roles: z.array(z.object({\n        roleName: z.string().describe('The role for this event.'),\n        assignedVolunteerName: z.string().optional().describe('The name of the volunteer assigned to this role for this event.'),\n    })).describe('The list of roles for this specific event.'),\n});\n\nexport const SuggestedTemplateSchema = z.object({\n    name: z.string().describe(\"A suggested name for the template (e.g., 'Sunday Morning Service').\"),\n    roles: z.array(z.string()).describe('A list of role names that make up this template.'),\n});\n\nexport const ExtractedScheduleDataSchema = z.object({\n  volunteers: z.array(ExtractedVolunteerSchema).describe('A list of all unique volunteers found in the document.'),\n  roles: z.array(ExtractedRoleSchema).describe('A list of all unique volunteer roles found in the document.'),\n  events: z.array(ExtractedEventSchema).describe('A list of all specific events or services found.'),\n  templates: z.array(SuggestedTemplateSchema).describe('A list of suggested service templates based on recurring event structures.'),\n});\n\nexport type ExtractedScheduleData = z.infer<typeof ExtractedScheduleDataSchema>;\n\nexport const ExtractScheduleDataInputSchema = z.object({\n  documentDataUri: z\n    .string()\n    .describe(\n      \"The volunteer schedule document (e.g., PDF, Word, Excel) as a data URI. Must include a MIME type and use Base64 encoding. Format: 'data:<mimetype>;base64,<encoded_data>'.\"\n    ),\n});\n\nexport type ExtractScheduleDataInput = z.infer<typeof ExtractScheduleDataInputSchema>;\n"],"names":[],"mappings":";;;;;;;;AAEA;AADA;;AAGO,MAAM,2BAA2B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC/C,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC1B,OAAO,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;IACtC,OAAO,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;AACxC;AAEO,MAAM,sBAAsB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACxC,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC1B,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;AAChD;AAEO,MAAM,uBAAuB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACzC,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC/B,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;IAC1C,OAAO,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACpB,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QAC9B,uBAAuB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;IAC1D,IAAI,QAAQ,CAAC;AACjB;AAEO,MAAM,0BAA0B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC5C,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC1B,OAAO,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,IAAI,QAAQ,CAAC;AACxC;AAEO,MAAM,8BAA8B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAClD,YAAY,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,0BAA0B,QAAQ,CAAC;IACvD,OAAO,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,qBAAqB,QAAQ,CAAC;IAC7C,QAAQ,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,sBAAsB,QAAQ,CAAC;IAC/C,WAAW,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,yBAAyB,QAAQ,CAAC;AACvD;AAIO,MAAM,iCAAiC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACrD,iBAAiB,uIAAA,CAAA,IAAC,CACf,MAAM,GACN,QAAQ,CACP;AAEN","debugId":null}},
    {"offset": {"line": 971, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/admin/setup-wizard/ProgressBar.tsx"],"sourcesContent":["\n'use client';\n\nimport { useWizard } from '@/hooks/use-wizard';\nimport { Check } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\nexport function WizardProgressBar() {\n  const { activeStep, steps } = useWizard();\n\n  return (\n    <nav aria-label=\"Progress\">\n      <ol role=\"list\" className=\"flex items-center\">\n        {steps.map((step, stepIdx) => (\n          <li key={step.name} className={cn('relative flex-1', stepIdx !== steps.length - 1 ? 'pr-8' : '')}>\n            {stepIdx < activeStep ? (\n              <>\n                <div className=\"absolute inset-0 flex items-center\" aria-hidden=\"true\">\n                  <div className=\"h-0.5 w-full bg-primary\" />\n                </div>\n                <div className=\"relative flex h-8 w-8 items-center justify-center rounded-full bg-primary\">\n                  <Check className=\"h-5 w-5 text-white\" aria-hidden=\"true\" />\n                </div>\n              </>\n            ) : stepIdx === activeStep ? (\n              <>\n                <div className=\"absolute inset-0 flex items-center\" aria-hidden=\"true\">\n                  <div className=\"h-0.5 w-full bg-gray-200\" />\n                </div>\n                <div\n                  className=\"relative flex h-8 w-8 items-center justify-center rounded-full border-2 border-primary bg-background\"\n                  aria-current=\"step\"\n                >\n                  <span className=\"h-2.5 w-2.5 rounded-full bg-primary\" aria-hidden=\"true\" />\n                </div>\n              </>\n            ) : (\n              <>\n                <div className=\"absolute inset-0 flex items-center\" aria-hidden=\"true\">\n                  <div className=\"h-0.5 w-full bg-gray-200\" />\n                </div>\n                <div className=\"group relative flex h-8 w-8 items-center justify-center rounded-full border-2 border-gray-300 bg-background\">\n                  <span\n                    className=\"h-2.5 w-2.5 rounded-full bg-transparent\"\n                    aria-hidden=\"true\"\n                  />\n                </div>\n              </>\n            )}\n             <p className=\"absolute -bottom-6 text-xs text-center w-full truncate sm:w-auto\">{step.name}</p>\n          </li>\n        ))}\n      </ol>\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,YAAS,AAAD;IAEtC,qBACE,6LAAC;QAAI,cAAW;kBACd,cAAA,6LAAC;YAAG,MAAK;YAAO,WAAU;sBACvB,MAAM,GAAG,CAAC,CAAC,MAAM,wBAChB,6LAAC;oBAAmB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,mBAAmB,YAAY,MAAM,MAAM,GAAG,IAAI,SAAS;;wBAC1F,UAAU,2BACT;;8CACE,6LAAC;oCAAI,WAAU;oCAAqC,eAAY;8CAC9D,cAAA,6LAAC;wCAAI,WAAU;;;;;;;;;;;8CAEjB,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC,uMAAA,CAAA,QAAK;wCAAC,WAAU;wCAAqB,eAAY;;;;;;;;;;;;2CAGpD,YAAY,2BACd;;8CACE,6LAAC;oCAAI,WAAU;oCAAqC,eAAY;8CAC9D,cAAA,6LAAC;wCAAI,WAAU;;;;;;;;;;;8CAEjB,6LAAC;oCACC,WAAU;oCACV,gBAAa;8CAEb,cAAA,6LAAC;wCAAK,WAAU;wCAAsC,eAAY;;;;;;;;;;;;yDAItE;;8CACE,6LAAC;oCAAI,WAAU;oCAAqC,eAAY;8CAC9D,cAAA,6LAAC;wCAAI,WAAU;;;;;;;;;;;8CAEjB,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCACC,WAAU;wCACV,eAAY;;;;;;;;;;;;;sCAKnB,6LAAC;4BAAE,WAAU;sCAAoE,KAAK,IAAI;;;;;;;mBAnCpF,KAAK,IAAI;;;;;;;;;;;;;;;AAyC5B;GAhDgB;;QACgB,iIAAA,CAAA,YAAS;;;KADzB","debugId":null}},
    {"offset": {"line": 1138, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1290, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/admin/setup-wizard/SetupWizard.tsx"],"sourcesContent":["\n'use client';\n\nimport { useWizard } from '@/hooks/use-wizard';\nimport { WizardProgressBar } from './ProgressBar';\nimport { Button } from '@/components/ui/button';\nimport { ArrowLeft, ArrowRight, Check, Loader2, X } from 'lucide-react';\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle, AlertDialogTrigger } from '@/components/ui/alert-dialog';\n\nexport default function SetupWizard() {\n  const {\n    steps,\n    activeStep,\n    isFirstStep,\n    isLastStep,\n    goToNextStep,\n    goToPreviousStep,\n    onSkip,\n    isProcessing,\n  } = useWizard();\n\n  const ActiveStepComponent = steps[activeStep]?.component;\n\n  return (\n    <div className=\"flex h-full w-full flex-col\">\n      <div className=\"p-8 border-b\">\n        <WizardProgressBar />\n      </div>\n\n      <div className=\"flex-1 p-8 overflow-y-auto\">\n        {ActiveStepComponent && <ActiveStepComponent />}\n      </div>\n\n      <div className=\"p-4 border-t bg-background/80 backdrop-blur-sm mt-auto\">\n        <div className=\"flex justify-between items-center max-w-4xl mx-auto\">\n          <div>\n            {!isFirstStep && (\n              <Button variant=\"outline\" onClick={goToPreviousStep} disabled={isProcessing}>\n                <ArrowLeft className=\"mr-2 h-4 w-4\" /> Previous\n              </Button>\n            )}\n          </div>\n          <div className=\"flex items-center gap-4\">\n             {!isLastStep && (\n                <AlertDialog>\n                    <AlertDialogTrigger asChild>\n                        <Button variant=\"ghost\">Skip Wizard</Button>\n                    </AlertDialogTrigger>\n                    <AlertDialogContent>\n                        <AlertDialogHeader>\n                            <AlertDialogTitle>Are you sure?</AlertDialogTitle>\n                            <AlertDialogDescription>\n                                You will be taken to the admin dashboard with a blank setup. You can re-run this wizard later from the settings page.\n                            </AlertDialogDescription>\n                        </AlertDialogHeader>\n                        <AlertDialogFooter>\n                            <AlertDialogCancel>Cancel</AlertDialogCancel>\n                            <AlertDialogAction onClick={onSkip} className=\"bg-primary hover:bg-primary/90 text-primary-foreground\">\n                                <X className=\"mr-2 h-4 w-4\" />\n                                Yes, skip\n                            </AlertDialogAction>\n                        </AlertDialogFooter>\n                    </AlertDialogContent>\n                </AlertDialog>\n            )}\n            <Button onClick={goToNextStep} disabled={isProcessing}>\n                {isProcessing ? (\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                ) : isLastStep ? (\n                    <Check className=\"mr-2 h-4 w-4\" />\n                ) : (\n                    <ArrowRight className=\"mr-2 h-4 w-4\" />\n                )}\n                {isProcessing ? 'Processing...' : isLastStep ? 'Finish Setup' : 'Next'}\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,EACJ,KAAK,EACL,UAAU,EACV,WAAW,EACX,UAAU,EACV,YAAY,EACZ,gBAAgB,EAChB,MAAM,EACN,YAAY,EACb,GAAG,CAAA,GAAA,iIAAA,CAAA,YAAS,AAAD;IAEZ,MAAM,sBAAsB,KAAK,CAAC,WAAW,EAAE;IAE/C,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,gKAAA,CAAA,oBAAiB;;;;;;;;;;0BAGpB,6LAAC;gBAAI,WAAU;0BACZ,qCAAuB,6LAAC;;;;;;;;;;0BAG3B,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCACE,CAAC,6BACA,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAU,SAAS;gCAAkB,UAAU;;kDAC7D,6LAAC,mNAAA,CAAA,YAAS;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;sCAI5C,6LAAC;4BAAI,WAAU;;gCACX,CAAC,4BACC,6LAAC,8IAAA,CAAA,cAAW;;sDACR,6LAAC,8IAAA,CAAA,qBAAkB;4CAAC,OAAO;sDACvB,cAAA,6LAAC,qIAAA,CAAA,SAAM;gDAAC,SAAQ;0DAAQ;;;;;;;;;;;sDAE5B,6LAAC,8IAAA,CAAA,qBAAkB;;8DACf,6LAAC,8IAAA,CAAA,oBAAiB;;sEACd,6LAAC,8IAAA,CAAA,mBAAgB;sEAAC;;;;;;sEAClB,6LAAC,8IAAA,CAAA,yBAAsB;sEAAC;;;;;;;;;;;;8DAI5B,6LAAC,8IAAA,CAAA,oBAAiB;;sEACd,6LAAC,8IAAA,CAAA,oBAAiB;sEAAC;;;;;;sEACnB,6LAAC,8IAAA,CAAA,oBAAiB;4DAAC,SAAS;4DAAQ,WAAU;;8EAC1C,6LAAC,+LAAA,CAAA,IAAC;oEAAC,WAAU;;;;;;gEAAiB;;;;;;;;;;;;;;;;;;;;;;;;;8CAOlD,6LAAC,qIAAA,CAAA,SAAM;oCAAC,SAAS;oCAAc,UAAU;;wCACpC,6BACG,6LAAC,oNAAA,CAAA,UAAO;4CAAC,WAAU;;;;;mDACnB,2BACA,6LAAC,uMAAA,CAAA,QAAK;4CAAC,WAAU;;;;;iEAEjB,6LAAC,qNAAA,CAAA,aAAU;4CAAC,WAAU;;;;;;wCAEzB,eAAe,kBAAkB,aAAa,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOhF;GAvEwB;;QAUlB,iIAAA,CAAA,YAAS;;;KAVS","debugId":null}},
    {"offset": {"line": 1532, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/admin/setup-wizard/WizardStepWelcome.tsx"],"sourcesContent":["\n'use client';\n\nimport { PenLine } from 'lucide-react';\n\nexport default function WizardStepWelcome() {\n  return (\n    <div className=\"max-w-2xl mx-auto text-center\">\n        <PenLine className=\"mx-auto h-16 w-16 text-primary mb-6\" />\n      <h2 className=\"text-2xl font-bold font-headline tracking-tight\">\n        Welcome to Weaver's Loom!\n      </h2>\n      <p className=\"mt-2 text-muted-foreground\">\n        Let's get your church set up for volunteer scheduling. This quick wizard will guide you through the initial steps.\n      </p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AAFA;;;AAIe,SAAS;IACtB,qBACE,6LAAC;QAAI,WAAU;;0BACX,6LAAC,+MAAA,CAAA,UAAO;gBAAC,WAAU;;;;;;0BACrB,6LAAC;gBAAG,WAAU;0BAAkD;;;;;;0BAGhE,6LAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAKhD;KAZwB","debugId":null}},
    {"offset": {"line": 1586, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/admin/setup-wizard/WizardStepUpload.tsx"],"sourcesContent":["\n'use client';\n\nimport { useState } from 'react';\nimport { useWizard } from '@/hooks/use-wizard';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { UploadCloud, FileText } from 'lucide-react';\n\ninterface WizardStepUploadProps {\n  onFileUpload: (file: File) => Promise<any>;\n}\n\nexport default function WizardStepUpload({ onFileUpload }: WizardStepUploadProps) {\n  const { setIsProcessing, goToNextStep } = useWizard();\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files && event.target.files[0]) {\n      setSelectedFile(event.target.files[0]);\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!selectedFile) return;\n    setIsProcessing(true);\n    try {\n      await onFileUpload(selectedFile);\n      // The parent component handles setting the wizard data and moving to the next step.\n      // But we will manually trigger next step here.\n      goToNextStep();\n    } catch (error) {\n      // Error is handled by parent, but we need to stop processing indicator\n      // In this case, we also want to proceed to the next step to show the user it failed.\n      goToNextStep();\n    } finally {\n        setIsProcessing(false);\n    }\n  };\n  \n  return (\n    <div className=\"max-w-2xl mx-auto text-center\">\n      <UploadCloud className=\"mx-auto h-16 w-16 text-primary mb-6\" />\n      <h2 className=\"text-2xl font-bold font-headline tracking-tight\">Upload Your Current Schedule</h2>\n      <p className=\"mt-2 text-muted-foreground mb-8\">\n        Give us a head start! Upload your current volunteer schedule as a PDF, Word, or Excel file.\n        Our AI will automatically extract volunteers, roles, and services to pre-fill your setup.\n      </p>\n\n      <div className=\"mx-auto max-w-sm space-y-4\">\n        <Input \n            id=\"schedule-file\" \n            type=\"file\" \n            onChange={handleFileChange}\n            accept=\".pdf,.doc,.docx,.xls,.xlsx\"\n        />\n\n        {selectedFile && (\n            <div className=\"text-sm text-muted-foreground flex items-center justify-center gap-2\">\n                <FileText className=\"h-4 w-4 text-primary\" />\n                <span>{selectedFile.name}</span>\n            </div>\n        )}\n\n        <Button onClick={handleUpload} disabled={!selectedFile} className=\"w-full\">\n            Upload & Analyze\n        </Button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AAAA;;;AANA;;;;;;AAYe,SAAS,iBAAiB,EAAE,YAAY,EAAyB;;IAC9E,MAAM,EAAE,eAAe,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,YAAS,AAAD;IAClD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAE9D,MAAM,mBAAmB,CAAC;QACxB,IAAI,MAAM,MAAM,CAAC,KAAK,IAAI,MAAM,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE;YAC/C,gBAAgB,MAAM,MAAM,CAAC,KAAK,CAAC,EAAE;QACvC;IACF;IAEA,MAAM,eAAe;QACnB,IAAI,CAAC,cAAc;QACnB,gBAAgB;QAChB,IAAI;YACF,MAAM,aAAa;YACnB,oFAAoF;YACpF,+CAA+C;YAC/C;QACF,EAAE,OAAO,OAAO;YACd,uEAAuE;YACvE,qFAAqF;YACrF;QACF,SAAU;YACN,gBAAgB;QACpB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,uNAAA,CAAA,cAAW;gBAAC,WAAU;;;;;;0BACvB,6LAAC;gBAAG,WAAU;0BAAkD;;;;;;0BAChE,6LAAC;gBAAE,WAAU;0BAAkC;;;;;;0BAK/C,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,oIAAA,CAAA,QAAK;wBACF,IAAG;wBACH,MAAK;wBACL,UAAU;wBACV,QAAO;;;;;;oBAGV,8BACG,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,iNAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;0CACpB,6LAAC;0CAAM,aAAa,IAAI;;;;;;;;;;;;kCAIhC,6LAAC,qIAAA,CAAA,SAAM;wBAAC,SAAS;wBAAc,UAAU,CAAC;wBAAc,WAAU;kCAAS;;;;;;;;;;;;;;;;;;AAMnF;GAzDwB;;QACoB,iIAAA,CAAA,YAAS;;;KAD7B","debugId":null}},
    {"offset": {"line": 1731, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1834, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,6KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,6KAAA,CAAA,SAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC,6KAAA,CAAA,sBAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,6KAAA,CAAA,kBAAmC;YAAC,WAAU;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,6KAAA,CAAA,sBAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1911, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/admin/setup-wizard/WizardStepReview.tsx"],"sourcesContent":["\n'use client';\n\nimport type { ExtractedScheduleData } from '@/ai/schemas/extract-schedule-data-schema';\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/components/ui/card';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Users, BookCopy, Briefcase, FileWarning } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\n\ninterface WizardStepReviewProps {\n  extractedData: ExtractedScheduleData | null;\n  setExtractedData: (data: ExtractedScheduleData | null) => void;\n}\n\nexport default function WizardStepReview({ extractedData, setExtractedData }: WizardStepReviewProps) {\n  if (!extractedData) {\n    return (\n      <div className=\"max-w-2xl mx-auto text-center\">\n         <FileWarning className=\"mx-auto h-16 w-16 text-amber-500 mb-6\" />\n        <h2 className=\"text-2xl font-bold font-headline tracking-tight\">Proceed with a Blank Slate</h2>\n        <p className=\"mt-2 text-muted-foreground\">\n          You either skipped the upload step or the AI couldn't extract data from your file. We'll proceed with a blank setup. You can add roles, volunteers, and templates manually after the wizard is complete.\n        </p>\n         <Button onClick={() => setExtractedData(null)} variant=\"link\" className=\"mt-4\">\n            (This is correct, continue)\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      <div className=\"text-center mb-8\">\n        <h2 className=\"text-2xl font-bold font-headline tracking-tight\">Review Your Data</h2>\n        <p className=\"mt-2 text-muted-foreground\">\n          Our AI has extracted the following information from your document. Please review it before we import it.\n        </p>\n      </div>\n      <div className=\"grid gap-6 md:grid-cols-2\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\"><Users className=\"h-5 w-5 text-primary\" /> Volunteers</CardTitle>\n            <CardDescription>{extractedData.volunteers.length} unique volunteers found.</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <ScrollArea className=\"h-48\">\n              <ul className=\"space-y-2\">\n                {extractedData.volunteers.map((v, i) => (\n                  <li key={i} className=\"text-sm p-2 bg-muted/50 rounded-md\">{v.name}</li>\n                ))}\n                 {extractedData.volunteers.length === 0 && <p className=\"text-sm text-muted-foreground p-4 text-center\">No volunteers found.</p>}\n              </ul>\n            </ScrollArea>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\"><Briefcase className=\"h-5 w-5 text-primary\" /> Roles</CardTitle>\n            <CardDescription>{extractedData.roles.length} unique roles found.</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <ScrollArea className=\"h-48\">\n              <ul className=\"space-y-2\">\n                {extractedData.roles.map((r, i) => (\n                  <li key={i} className=\"text-sm p-2 bg-muted/50 rounded-md\">{r.name}</li>\n                ))}\n                {extractedData.roles.length === 0 && <p className=\"text-sm text-muted-foreground p-4 text-center\">No roles found.</p>}\n              </ul>\n            </ScrollArea>\n          </CardContent>\n        </Card>\n        <Card className=\"md:col-span-2\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\"><BookCopy className=\"h-5 w-5 text-primary\" /> Suggested Templates</CardTitle>\n            <CardDescription>{extractedData.templates.length} service templates suggested.</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <ScrollArea className=\"h-48\">\n              <div className=\"space-y-4\">\n                {extractedData.templates.map((t, i) => (\n                  <div key={i} className=\"text-sm p-3 border rounded-md\">\n                    <p className=\"font-semibold\">{t.name}</p>\n                    <p className=\"text-xs text-muted-foreground\">Roles: {t.roles.join(', ')}</p>\n                  </div>\n                ))}\n                 {extractedData.templates.length === 0 && <p className=\"text-sm text-muted-foreground p-4 text-center\">No templates suggested.</p>}\n              </div>\n            </ScrollArea>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2293, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/admin/setup-wizard/WizardStepFinish.tsx"],"sourcesContent":["'use client';\n\nimport { PartyPopper } from \"lucide-react\";\n\nexport default function WizardStepFinish() {\n  return (\n    <div className=\"max-w-xl mx-auto text-center\">\n      <PartyPopper className=\"mx-auto h-16 w-16 text-primary mb-6\" />\n      <h2 className=\"text-2xl font-bold font-headline tracking-tight\">You're All Set!</h2>\n      <p className=\"mt-2 text-muted-foreground\">\n        We've imported your data. Click \"Finish Setup\" to be taken to your admin dashboard.\n      </p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,uNAAA,CAAA,cAAW;gBAAC,WAAU;;;;;;0BACvB,6LAAC;gBAAG,WAAU;0BAAkD;;;;;;0BAChE,6LAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAKhD;KAVwB","debugId":null}},
    {"offset": {"line": 2347, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/admin/setup-wizard/page.tsx"],"sourcesContent":["\n'use client';\n\nimport { useAuth } from '@/hooks/use-auth';\nimport { useRouter } from 'next/navigation';\nimport { useEffect, useState } from 'react';\nimport { useMockDatabase } from '@/lib/data';\nimport { WizardProvider } from '@/hooks/use-wizard';\nimport { extractScheduleData } from '@/ai/flows/extract-schedule-data-flow';\nimport { ExtractedScheduleDataSchema, type ExtractedScheduleData } from '@/ai/schemas/extract-schedule-data-schema';\nimport SetupWizard from '@/components/admin/setup-wizard/SetupWizard';\nimport WizardStepWelcome from '@/components/admin/setup-wizard/WizardStepWelcome';\nimport WizardStepUpload from '@/components/admin/setup-wizard/WizardStepUpload';\nimport WizardStepReview from '@/components/admin/setup-wizard/WizardStepReview';\nimport WizardStepFinish from '@/components/admin/setup-wizard/WizardStepFinish';\nimport { useToast } from '@/hooks/use-toast';\nimport { PenLine } from 'lucide-react';\n\nexport default function SetupWizardPage() {\n  const { isLoggedIn, isAdmin } = useAuth();\n  const router = useRouter();\n  const db = useMockDatabase();\n  const { toast } = useToast();\n\n  const [wizardData, setWizardData] = useState<ExtractedScheduleData | null>(null);\n\n  useEffect(() => {\n    if (!isLoggedIn) {\n      router.push('/');\n    } else if (!isAdmin) {\n      router.push('/my-schedule');\n    }\n  }, [isLoggedIn, isAdmin, router]);\n\n  const handleFileUpload = async (file: File): Promise<ExtractedScheduleData | null> => {\n    const reader = new FileReader();\n    return new Promise((resolve, reject) => {\n      reader.onerror = () => {\n        reader.abort();\n        reject(new DOMException(\"Problem parsing input file.\"));\n      };\n\n      reader.onload = async () => {\n        const dataUri = reader.result as string;\n        try {\n          const result = await extractScheduleData({ documentDataUri: dataUri });\n          const validatedData = ExtractedScheduleDataSchema.parse(result);\n          setWizardData(validatedData);\n          resolve(validatedData);\n        } catch (err) {\n          console.error(err);\n          toast({\n            variant: \"destructive\",\n            title: \"Data Extraction Failed\",\n            description: \"The AI could not process your document. Please check the file and try again.\",\n          });\n          reject(err);\n        }\n      };\n\n      reader.readAsDataURL(file);\n    });\n  };\n  \n  const handleSkip = () => {\n    localStorage.setItem('setupCompleted', 'true');\n    router.push('/admin');\n  };\n\n  const handleFinish = async () => {\n    if (!wizardData) {\n        // This case handles when user skips upload and there's no data\n        localStorage.setItem('setupCompleted', 'true');\n        router.push('/admin');\n        return;\n    };\n\n    try {\n        // In a real app, you would have a single transactional write.\n        // For the mock DB, we can do them sequentially.\n        for (const role of wizardData.roles) {\n            await db.addUniversalRole(role.name, role.description);\n        }\n        for (const template of wizardData.templates) {\n             const templateRoles = template.roles.map(roleName => {\n                // This is brittle, relies on mock data having the role already\n                const uRole = db.universalRoles.find(ur => ur.name === roleName);\n                return {\n                    instanceId: `tr_${Date.now()}_${Math.random()}`,\n                    roleId: uRole?.id || '',\n                    name: roleName\n                }\n            })\n            await db.createServiceTemplate(template.name, templateRoles);\n        }\n        // NOTE: We are not adding volunteers or events in this step to keep it simple.\n        // A real implementation would add volunteers and create the scheduled events.\n\n        localStorage.setItem('setupCompleted', 'true');\n        toast({\n            title: \"Setup Complete!\",\n            description: \"Your church is ready to go.\",\n        });\n        router.push('/admin');\n\n    } catch (error) {\n        toast({\n            variant: \"destructive\",\n            title: \"Save Failed\",\n            description: \"There was an error saving your setup data. Please try again.\",\n        })\n    }\n  };\n\n  if (!isLoggedIn || !isAdmin) {\n    return null; // or a loading spinner\n  }\n\n  const steps = [\n    { id: 'Step 1', name: 'Welcome', component: WizardStepWelcome },\n    { \n      id: 'Step 2', \n      name: 'Upload Schedule', \n      component: () => <WizardStepUpload onFileUpload={handleFileUpload} /> \n    },\n    { \n      id: 'Step 3', \n      name: 'Review & Confirm', \n      component: () => <WizardStepReview extractedData={wizardData} setExtractedData={setWizardData} />\n    },\n    { \n        id: 'Step 4', \n        name: 'Finish', \n        component: WizardStepFinish,\n    },\n  ];\n\n  return (\n    <div className=\"h-screen w-screen bg-muted flex flex-col\">\n       <div className=\"p-4 border-b shrink-0 flex items-center gap-2\">\n           <PenLine className=\"h-6 w-6 text-primary\" />\n           <h1 className=\"text-2xl font-bold font-headline\">Weaver's Loom Setup</h1>\n       </div>\n       <div className=\"flex-1 overflow-hidden\">\n        <WizardProvider steps={steps} onFinish={handleFinish} onSkip={handleSkip}>\n            <SetupWizard />\n        </WizardProvider>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}