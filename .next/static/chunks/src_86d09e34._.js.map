{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/data.ts"],"sourcesContent":["\n'use client';\n\nimport type { Event, Role, Volunteer, RoleStatus, UniversalRole, ServiceTemplate, TemplateRole, VolunteerAvailability, VolunteerPreferences, Church, Family } from '@/types';\nimport { useState, useCallback, useMemo } from 'react';\nimport { startOfToday, addDays, subDays, isSameDay } from 'date-fns';\n\nconst MOCK_CHURCH_ID = 'church_123';\nconst MOCK_VOLUNTEER_ID = 'user_volunteer_1';\nconst MOCK_FAMILY_ID = 'family_1';\n\nconst today = startOfToday();\n\nconst initialChurch: Church = {\n    id: MOCK_CHURCH_ID,\n    name: \"St. Francis' Church\",\n    address: \"123 Gospel Lane, Anytown, USA 12345\",\n    phone: \"(555) 123-4567\",\n    adminName: \"John Smith\",\n    adminEmail: \"admin@stfrancis.org\",\n    publishedMonths: [`${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}`],\n}\n\nconst initialFamilies: Family[] = [\n    {\n        id: MOCK_FAMILY_ID,\n        members: [\n            { id: 'user_volunteer_1', name: 'Alice Johnson', isPrimary: true },\n            { id: 'user_volunteer_5', name: 'Steve Johnson', isPrimary: false },\n        ]\n    }\n]\n\nconst initialVolunteers: Volunteer[] = [\n  { \n    id: 'user_volunteer_1', \n    name: 'Alice Johnson', \n    email: 'alice@example.com', \n    phone: '555-0101',\n    familyId: MOCK_FAMILY_ID,\n    preferences: {\n      preferredRoleIds: ['urole_1', 'urole_5'],\n      servingFrequency: 'bi-weekly',\n      familyServingPreference: 'possible',\n      familyManagementEnabled: true,\n    }\n  },\n  { \n    id: 'user_volunteer_2', \n    name: 'Bob Williams', \n    email: 'bob@example.com', \n    phone: '555-0102',\n    preferences: {\n      preferredRoleIds: ['urole_2', 'urole_3'],\n      servingFrequency: 'monthly',\n      familyServingPreference: 'any',\n      familyManagementEnabled: false,\n    }\n  },\n  { \n    id: 'user_volunteer_3', \n    name: 'Charlie Brown', \n    email: 'charlie@example.com', \n    phone: '555-0103',\n    preferences: {\n      preferredRoleIds: ['urole_4'],\n      servingFrequency: 'weekly',\n      familyServingPreference: 'any',\n      familyManagementEnabled: false,\n    }\n  },\n   { \n    id: 'user_volunteer_4', \n    name: 'Diana Prince', \n    email: 'diana@example.com', \n    phone: '555-0104',\n    preferences: {\n      preferredRoleIds: ['urole_1', 'urole_2', 'urole_3'],\n      servingFrequency: 'as-needed',\n      familyServingPreference: 'any',\n      familyManagementEnabled: false,\n    }\n  },\n  { \n    id: 'user_volunteer_5', \n    name: 'Steve Johnson', \n    email: 'steve@example.com', \n    phone: '555-0105',\n    familyId: MOCK_FAMILY_ID,\n    preferences: {\n      preferredRoleIds: ['urole_4'],\n      servingFrequency: 'monthly',\n      familyServingPreference: 'possible',\n      familyManagementEnabled: true,\n    }\n  },\n];\n\nconst initialUniversalRoles: UniversalRole[] = [\n    { id: 'urole_1', name: 'Lector', description: \"Reads the lessons for the day.\"},\n    { id: 'urole_2', name: 'Usher', description: \"Welcomes attendees and assists with seating.\"},\n    { id: 'urole_3', name: 'Acolyte', description: \"Assists the clergy during the service.\"},\n    { id: 'urole_4', name: 'Coffee Hour Host', description: \"Prepares and serves refreshments after the service.\"},\n    { id: 'urole_5', name: 'Altar Guild', description: \"Prepares the altar and sacred vessels for worship.\"},\n]\n\nconst initialServiceTemplates: ServiceTemplate[] = [\n    {\n        id: 'template_1',\n        name: 'Sunday Morning Eucharist',\n        roles: [\n            { instanceId: 'tr_1', roleId: 'urole_1', name: 'Lector' },\n            { instanceId: 'tr_2', roleId: 'urole_2', name: 'Usher' },\n            { instanceId: 'tr_3', roleId: 'urole_2', name: 'Usher' },\n            { instanceId: 'tr_4', roleId: 'urole_3', name: 'Acolyte' },\n        ]\n    },\n    {\n        id: 'template_2',\n        name: 'Wednesday Healing Service',\n        roles: [\n            { instanceId: 'tr_5', roleId: 'urole_1', name: 'Lector' },\n            { instanceId: 'tr_6', roleId: 'urole_2', name: 'Usher' },\n        ]\n    }\n];\n\n\nconst initialEvents: Event[] = [\n  {\n    id: 'event_1',\n    churchId: MOCK_CHURCH_ID,\n    eventName: 'Sunday Morning Eucharist',\n    eventDate: addDays(today, 3),\n    notes: 'This is the main Sunday service.',\n    roles: [\n      { id: 'role_1', roleName: 'Lector', assignedVolunteerId: 'user_volunteer_1', assignedVolunteerName: 'Alice Johnson', status: 'Pending' },\n      { id: 'role_2', roleName: 'Usher', assignedVolunteerId: 'user_volunteer_2', assignedVolunteerName: 'Bob Williams', status: 'Confirmed' },\n    ],\n  },\n  {\n    id: 'event_2',\n    churchId: MOCK_CHURCH_ID,\n    eventName: 'Wednesday Healing Service',\n    eventDate: addDays(today, 6),\n    roles: [\n      { id: 'role_3', roleName: 'Lector', assignedVolunteerId: 'user_volunteer_1', assignedVolunteerName: 'Alice Johnson', status: 'Pending' },\n      { id: 'role_4', roleName: 'Usher', assignedVolunteerId: null, assignedVolunteerName: null, status: 'Pending' },\n    ],\n  },\n  {\n    id: 'event_3',\n    churchId: MOCK_CHURCH_ID,\n    eventName: 'Sunday Morning Eucharist',\n    eventDate: addDays(today, 10),\n    roles: [\n      { id: 'role_5', roleName: 'Lector', assignedVolunteerId: 'user_volunteer_3', assignedVolunteerName: 'Charlie Brown', status: 'Confirmed' },\n      { id: 'role_6', roleName: 'Usher', assignedVolunteerId: 'user_volunteer_1', assignedVolunteerName: 'Alice Johnson', status: 'Declined' },\n    ],\n  },\n  {\n    id: 'event_4',\n    churchId: MOCK_CHURCH_ID,\n    eventName: 'Past Service',\n    eventDate: subDays(today, 4),\n    roles: [\n      { id: 'role_7', roleName: 'Acolyte', assignedVolunteerId: 'user_volunteer_1', assignedVolunteerName: 'Alice Johnson', status: 'Confirmed' },\n    ],\n  }\n];\n\nconst initialVolunteerAvailability: VolunteerAvailability[] = [\n  {\n    volunteerId: 'user_volunteer_1',\n    unavailableDates: [addDays(today, 5), addDays(today, 12)]\n  },\n  {\n    volunteerId: 'user_volunteer_2',\n    unavailableDates: []\n  },\n  {\n    volunteerId: 'user_volunteer_5',\n    unavailableDates: [addDays(today, 5), addDays(today, 12)]\n  },\n]\n\n// This hook simulates a database connection.\nexport function useMockDatabase() {\n    const [church, setChurch] = useState<Church>(initialChurch);\n    const [events, setEvents] = useState<Event[]>(initialEvents);\n    const [volunteers, setVolunteers] = useState<Volunteer[]>(initialVolunteers);\n    const [universalRoles, setUniversalRoles] = useState<UniversalRole[]>(initialUniversalRoles);\n    const [serviceTemplates, setServiceTemplates] = useState<ServiceTemplate[]>(initialServiceTemplates);\n    const [volunteerAvailability, setVolunteerAvailability] = useState<VolunteerAvailability[]>(initialVolunteerAvailability);\n    const [families, setFamilies] = useState<Family[]>(initialFamilies);\n\n    const sleep = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\n\n    const getChurch = useCallback(async () => {\n        await sleep(200);\n        return church;\n    }, [church]);\n\n    const getChurchSync = useCallback(() => {\n        return church;\n    }, [church]);\n\n    const updateChurch = useCallback(async (data: Partial<Church>) => {\n        await sleep(500);\n        setChurch(prev => ({ ...prev, ...data }));\n    }, []);\n\n    const getEvents = useCallback(async (churchId: string) => {\n        await sleep(300);\n        return events.filter(event => event.churchId === churchId);\n    }, [events]);\n    \n    const getMyAssignments = useCallback(async (volunteerId: string) => {\n        await sleep(400);\n        return events.filter(event => \n            event.roles.some(role => role.assignedVolunteerId === volunteerId)\n        );\n    }, [events]);\n\n    const createEvent = useCallback(async (newEventData: Omit<Event, 'id' | 'roles' | 'churchId'>, templateId?: string) => {\n        await sleep(500);\n        const template = serviceTemplates.find(t => t.id === templateId);\n        const newRoles: Role[] = template ? template.roles.map(tr => ({\n            id: `role_${Date.now()}_${Math.random()}`,\n            roleName: tr.name,\n            assignedVolunteerId: null,\n            assignedVolunteerName: null,\n            status: 'Pending'\n        })) : [];\n\n        const newEvent: Event = {\n            ...newEventData,\n            id: `event_${Date.now()}`,\n            churchId: MOCK_CHURCH_ID,\n            roles: newRoles,\n        };\n        setEvents(prev => [...prev, newEvent]);\n        return newEvent;\n    }, [serviceTemplates]);\n\n    const getVolunteers = useCallback(async () => {\n        await sleep(300);\n        return volunteers;\n    }, [volunteers]);\n\n    const getVolunteersSync = useCallback(() => {\n        return volunteers;\n    }, [volunteers]);\n    \n    const updateVolunteerPreferences = useCallback(async (volunteerId: string, preferences: VolunteerPreferences) => {\n        await sleep(500);\n        setVolunteers(prev => prev.map(v => \n            v.id === volunteerId ? { ...v, preferences } : v\n        ));\n    }, []);\n\n    // Universal Roles\n    const getUniversalRoles = useCallback(async () => {\n        await sleep(200);\n        return universalRoles;\n    }, [universalRoles]);\n\n    const addUniversalRole = useCallback(async (name: string, description?: string) => {\n        await sleep(400);\n        const newRole: UniversalRole = {\n            id: `urole_${Date.now()}`,\n            name,\n            description,\n        };\n        setUniversalRoles(prev => [...prev, newRole]);\n        return newRole;\n    }, []);\n    \n    const updateUniversalRole = useCallback(async (id: string, data: Partial<Omit<UniversalRole, 'id'>>) => {\n        await sleep(400);\n        setUniversalRoles(prev => prev.map(r => r.id === id ? {...r, ...data} : r));\n    }, []);\n\n    const deleteUniversalRole = useCallback(async (id: string) => {\n        await sleep(400);\n        setUniversalRoles(prev => prev.filter(r => r.id !== id));\n        // Also remove from templates\n        setServiceTemplates(prev => prev.map(st => ({\n            ...st,\n            roles: st.roles.filter(r => r.roleId !== id)\n        })));\n    }, []);\n\n    // Service Templates\n    const getServiceTemplates = useCallback(async () => {\n        await sleep(200);\n        return serviceTemplates;\n    }, [serviceTemplates]);\n\n    const createServiceTemplate = useCallback(async (name: string, roles: TemplateRole[]) => {\n        await sleep(500);\n        const newTemplate: ServiceTemplate = {\n            id: `template_${Date.now()}`,\n            name,\n            roles,\n        };\n        setServiceTemplates(prev => [...prev, newTemplate]);\n        return newTemplate;\n    }, []);\n\n    const updateServiceTemplate = useCallback(async (id: string, data: Partial<Omit<ServiceTemplate, 'id'>>) => {\n        await sleep(500);\n        setServiceTemplates(prev => prev.map(t => t.id === id ? { ...t, ...data } : t));\n    }, []);\n    \n    const deleteServiceTemplate = useCallback(async (id: string) => {\n        await sleep(400);\n        setServiceTemplates(prev => prev.filter(t => t.id !== id));\n    }, []);\n\n    // Roles within events\n    const addRoleToEvent = useCallback(async (eventId: string, newRoleData: Omit<Role, 'id'>) => {\n        await sleep(400);\n        const newRole: Role = {\n            ...newRoleData,\n            id: `role_${Date.now()}`,\n        };\n        setEvents(prev => prev.map(event =>\n            event.id === eventId\n                ? { ...event, roles: [...event.roles, newRole] }\n                : event\n        ));\n    }, []);\n    \n    const updateRoleInEvent = useCallback(async (eventId: string, roleId: string, updates: Partial<Role>) => {\n        await sleep(400);\n        setEvents(prev => prev.map(event =>\n            event.id === eventId\n                ? { ...event, roles: event.roles.map(role => role.id === roleId ? { ...role, ...updates } : role) }\n                : event\n        ));\n    }, []);\n    \n    const deleteRoleFromEvent = useCallback(async (eventId: string, roleId: string) => {\n        await sleep(400);\n        setEvents(prev => prev.map(event =>\n            event.id === eventId\n                ? { ...event, roles: event.roles.filter(role => role.id !== roleId) }\n                : event\n        ));\n    }, []);\n\n    // Availability\n    const getVolunteerAvailability = useCallback(async (volunteerId: string) => {\n        await sleep(300);\n        if (volunteerId === 'all') {\n            // Special case for 'all family members'\n             const family = families.find(f => f.members.some(m => m.id === MOCK_VOLUNTEER_ID));\n             if (!family) return [];\n             const memberIds = family.members.map(m => m.id);\n             \n             // Get all unavailable dates for all family members\n             const allDates = volunteerAvailability\n                .filter(va => memberIds.includes(va.volunteerId))\n                .flatMap(va => va.unavailableDates);\n            \n            // Find dates where *all* members are unavailable\n            const commonUnavailableDates = allDates.filter(date => {\n                return memberIds.every(memberId => {\n                    return volunteerAvailability.find(va => va.volunteerId === memberId)?.unavailableDates.some(d => isSameDay(d, date));\n                });\n            });\n\n             return commonUnavailableDates;\n        }\n\n        const availability = volunteerAvailability.find(va => va.volunteerId === volunteerId);\n        return availability ? availability.unavailableDates : [];\n    }, [volunteerAvailability, families]);\n\n    const toggleVolunteerAvailability = useCallback(async (volunteerId: string, date: Date) => {\n        await sleep(200);\n        setVolunteerAvailability(prev => {\n            const availabilityIndex = prev.findIndex(va => va.volunteerId === volunteerId);\n            if (availabilityIndex > -1) {\n                const existing = prev[availabilityIndex];\n                const isUnavailable = existing.unavailableDates.some(d => isSameDay(d, date));\n                const newDates = isUnavailable\n                    ? existing.unavailableDates.filter(d => !isSameDay(d, date))\n                    : [...existing.unavailableDates, date];\n                const newAvailability = { ...existing, unavailableDates: newDates };\n                const newFullList = [...prev];\n                newFullList[availabilityIndex] = newAvailability;\n                return newFullList;\n            } else {\n                // If no record exists, create one\n                return [...prev, { volunteerId, unavailableDates: [date] }];\n            }\n        });\n    }, []);\n    \n    // Family Management\n    const getFamilyByVolunteerId = useCallback(async (volunteerId: string) => {\n        await sleep(300);\n        const volunteer = volunteers.find(v => v.id === volunteerId);\n        if (volunteer && volunteer.preferences.familyManagementEnabled) {\n            return families.find(f => f.id === volunteer.familyId) || null;\n        }\n        return null;\n    }, [volunteers, families]);\n    \n    const addFamilyMember = useCallback(async (familyId: string, name: string, email: string) => {\n        await sleep(500);\n        // Create a new volunteer for this family member\n        const newVolunteer: Volunteer = {\n            id: `user_volunteer_${Date.now()}`,\n            name,\n            email,\n            phone: '',\n            familyId,\n            preferences: {\n                preferredRoleIds: [],\n                servingFrequency: 'as-needed',\n                familyServingPreference: 'any',\n                familyManagementEnabled: false, // Only primary can manage\n            }\n        };\n        setVolunteers(prev => [...prev, newVolunteer]);\n        \n        // Add them to the family\n        setFamilies(prev => prev.map(f => {\n            if (f.id === familyId) {\n                return {\n                    ...f,\n                    members: [...f.members, { id: newVolunteer.id, name, isPrimary: false }]\n                }\n            }\n            return f;\n        }));\n    }, []);\n    \n    const removeFamilyMember = useCallback(async (familyId: string, volunteerId: string) => {\n        await sleep(400);\n        // Remove from family\n        setFamilies(prev => prev.map(f => {\n             if (f.id === familyId) {\n                return {\n                    ...f,\n                    members: f.members.filter(m => m.id !== volunteerId)\n                }\n            }\n            return f;\n        }));\n        // Remove volunteer record\n        setVolunteers(prev => prev.filter(v => v.id !== volunteerId));\n    }, []);\n\n    // A simple way to get all data at once for polling\n    const pollableData = useMemo(() => ({\n        events,\n        volunteers,\n        universalRoles,\n        serviceTemplates,\n    }), [events, volunteers, universalRoles, serviceTemplates]);\n\n\n    return {\n        // --- READS ---\n        getChurch,\n        getChurchSync,\n        getEvents,\n        getMyAssignments,\n        getVolunteers,\n        getVolunteersSync,\n        getUniversalRoles,\n        getServiceTemplates,\n        getVolunteerAvailability,\n        getFamilyByVolunteerId,\n        pollableData,\n        // --- WRITES ---\n        updateChurch,\n        createEvent,\n        updateVolunteerPreferences,\n        addUniversalRole,\n        updateUniversalRole,\n        deleteUniversalRole,\n        createServiceTemplate,\n        updateServiceTemplate,\n        deleteServiceTemplate,\n        addRoleToEvent,\n        updateRoleInEvent,\n        deleteRoleFromEvent,\n        toggleVolunteerAvailability,\n        addFamilyMember,\n        removeFamilyMember,\n        // --- CONSTANTS ---\n        MOCK_CHURCH_ID,\n        MOCK_VOLUNTEER_ID,\n        // For easy access in components\n        events: events.filter(e => e.churchId === MOCK_CHURCH_ID),\n        serviceTemplates,\n        universalRoles\n    };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 828, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/icons/StAndrewsCrossIcon.tsx"],"sourcesContent":["\nimport React from 'react';\n\nexport function StAndrewsCrossIcon(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      {...props}\n    >\n      <path d=\"M12 2v20\" />\n      <path d=\"M2 12h20\" />\n      <path d=\"M10 2h4\" />\n      <path d=\"M10 22h4\" />\n      <path d=\"M2 10v4\" />\n      <path d=\"M22 10v4\" />\n    </svg>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGO,SAAS,mBAAmB,KAAoC;IACrE,qBACE,6LAAC;QACC,OAAM;QACN,SAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAY;QACZ,eAAc;QACd,gBAAe;QACd,GAAG,KAAK;;0BAET,6LAAC;gBAAK,GAAE;;;;;;0BACR,6LAAC;gBAAK,GAAE;;;;;;0BACR,6LAAC;gBAAK,GAAE;;;;;;0BACR,6LAAC;gBAAK,GAAE;;;;;;0BACR,6LAAC;gBAAK,GAAE;;;;;;0BACR,6LAAC;gBAAK,GAAE;;;;;;;;;;;;AAGd;KApBgB","debugId":null}},
    {"offset": {"line": 905, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/admin/EventCalendar.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { format, startOfMonth, endOfMonth, eachDayOfInterval, isSameDay, isSameMonth, addMonths, subMonths } from 'date-fns';\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport type { Event } from '@/types';\nimport { cn } from '@/lib/utils';\nimport { StAndrewsCrossIcon } from '../icons/StAndrewsCrossIcon';\n\ninterface EventCalendarProps {\n  events: Event[];\n  onDayClick: (day: Date) => void;\n  selectedDay: Date | null;\n}\n\nexport default function EventCalendar({ events, onDayClick, selectedDay }: EventCalendarProps) {\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n\n  const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\n  const firstDayOfMonth = startOfMonth(currentMonth);\n  const lastDayOfMonth = endOfMonth(currentMonth);\n\n  const daysInMonth = eachDayOfInterval({\n    start: firstDayOfMonth,\n    end: lastDayOfMonth,\n  });\n\n  const startingDayIndex = firstDayOfMonth.getDay();\n\n  const prevMonth = () => setCurrentMonth(subMonths(currentMonth, 1));\n  const nextMonth = () => setCurrentMonth(addMonths(currentMonth, 1));\n\n  const getEventsForDay = (day: Date) => {\n    return events\n      .filter(event => isSameDay(event.eventDate, day))\n      .sort((a, b) => a.eventDate.getTime() - b.eventDate.getTime());\n  };\n  \n\n  return (\n    <div className=\"w-full bg-card text-card-foreground\">\n      <div className=\"flex items-center justify-between px-4 py-2 border-b flex-wrap gap-2\">\n        <h2 className=\"text-xl font-bold font-headline\">\n          {format(currentMonth, 'MMMM yyyy')}\n        </h2>\n        <div className=\"flex items-center gap-2\">\n          <Button variant=\"outline\" size=\"icon\" className=\"h-8 w-8\" onClick={prevMonth}>\n            <ChevronLeft className=\"h-4 w-4\" />\n          </Button>\n          <Button variant=\"outline\" size=\"icon\" className=\"h-8 w-8\" onClick={nextMonth}>\n            <ChevronRight className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n      <div className=\"grid grid-cols-7 w-full\">\n        {days.map(day => (\n          <div key={day} className=\"text-center font-semibold text-muted-foreground p-2 border-b text-xs sm:text-sm\">\n            {day}\n          </div>\n        ))}\n      </div>\n      <div className=\"grid grid-cols-7 grid-rows-5 w-full\">\n        {Array.from({ length: startingDayIndex }).map((_, index) => (\n          <div key={`empty-${index}`} className=\"border-r border-b\" />\n        ))}\n        {daysInMonth.map(day => {\n          const dayEvents = getEventsForDay(day);\n          const isSelected = selectedDay ? isSameDay(day, selectedDay) : false;\n          return (\n            <div\n              key={day.toString()}\n              onClick={() => onDayClick(day)}\n              className={cn(\n                'min-h-14 p-1 border-r border-b flex flex-col cursor-pointer hover:bg-muted/50 relative',\n                isSameDay(day, new Date()) && 'bg-accent/20',\n                isSelected && 'ring-2 ring-primary ring-inset'\n              )}\n            >\n              <div className=\"flex justify-between items-start\">\n                <time dateTime={format(day, 'yyyy-MM-dd')} className={cn(\"font-semibold text-xs\", !isSameMonth(day, currentMonth) ? \"text-muted-foreground\" : \"\")}>\n                  {format(day, 'd')}\n                </time>\n                 {dayEvents.length > 0 && (\n                    <div className=\"absolute top-1 right-1\">\n                        <StAndrewsCrossIcon className=\"h-3 w-3 text-primary\" />\n                    </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n        {Array.from({ length: 42 - daysInMonth.length - startingDayIndex }).map((_, index) => (\n           <div key={`empty-end-${index}`} className=\"border-r border-b\" />\n        ))}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1125, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1276, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1315, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/form.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1533, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1568, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,sKAAA,CAAA,SAAuB;kBACtB,cAAA,6LAAC,sKAAA,CAAA,UAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1616, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/calendar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n"],"names":[],"mappings":";;;;AAGA;AAAA;AACA;AAEA;AACA;AAPA;;;;;;AAWA,SAAS,SAAS,EAChB,SAAS,EACT,UAAU,EACV,kBAAkB,IAAI,EACtB,GAAG,OACW;IACd,qBACE,6LAAC,iKAAA,CAAA,YAAS;QACR,iBAAiB;QACjB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,OAAO;QACrB,YAAY;YACV,QAAQ;YACR,OAAO;YACP,SAAS;YACT,eAAe;YACf,KAAK;YACL,YAAY,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACX,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAU,IACpC;YAEF,qBAAqB;YACrB,iBAAiB;YACjB,OAAO;YACP,UAAU;YACV,WACE;YACF,KAAK;YACL,MAAM;YACN,KAAK,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACJ,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAQ,IAClC;YAEF,eAAe;YACf,cACE;YACF,WAAW;YACX,aACE;YACF,cAAc;YACd,kBACE;YACF,YAAY;YACZ,GAAG,UAAU;QACf;QACA,YAAY;YACV,UAAU,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAChC,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,WAAW;oBAAa,GAAG,KAAK;;;;;;YAE7D,WAAW,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBACjC,6LAAC,yNAAA,CAAA,eAAY;oBAAC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,WAAW;oBAAa,GAAG,KAAK;;;;;;QAEhE;QACC,GAAG,KAAK;;;;;;AAGf;KAvDS;AAwDT,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1702, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport * as SelectPrimitive from '@radix-ui/react-select';\nimport { Check, ChevronDown, ChevronUp } from 'lucide-react';\n\nimport { cn } from '@/lib/utils';\n\nconst Select = SelectPrimitive.Root;\n\nconst SelectGroup = SelectPrimitive.Group;\n\nconst SelectValue = SelectPrimitive.Value;\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      'flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1',\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n));\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn('flex cursor-default items-center justify-center py-1', className)}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n));\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn('flex cursor-default items-center justify-center py-1', className)}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n));\nSelectScrollDownButton.displayName = SelectPrimitive.ScrollDownButton.displayName;\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = 'popper', ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        'relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\n        position === 'popper' &&\n          'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          'p-1',\n          position === 'popper' &&\n            'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]'\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n));\nSelectContent.displayName = SelectPrimitive.Content.displayName;\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn('py-1.5 pl-8 pr-2 text-sm font-semibold', className)}\n    {...props}\n  />\n));\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      'relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));\nSelectItem.displayName = SelectPrimitive.Item.displayName;\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn('-mx-1 my-1 h-px bg-muted', className)}\n    {...props}\n  />\n));\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1917, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/admin/CreateEventModal.tsx"],"sourcesContent":["'use client';\nimport { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport * as z from 'zod';\nimport { format } from 'date-fns';\nimport { Calendar as CalendarIcon, Loader2, PlusSquare } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter, DialogDescription } from '@/components/ui/dialog';\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\nimport { Calendar } from '@/components/ui/calendar';\nimport { cn } from '@/lib/utils';\nimport type { Event, ServiceTemplate } from '@/types';\nimport { useToast } from '@/hooks/use-toast';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue, SelectSeparator } from '@/components/ui/select';\nimport { useMockDatabase } from '@/lib/data';\n\nconst eventFormSchema = z.object({\n  eventName: z.string().min(3, 'Event name must be at least 3 characters.'),\n  eventDate: z.date({ required_error: 'An event date is required.' }),\n  notes: z.string().optional(),\n  templateId: z.string().optional(),\n});\n\ntype EventFormValues = z.infer<typeof eventFormSchema>;\n\ninterface CreateEventModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  db: ReturnType<typeof useMockDatabase>;\n  onCreateTemplate: () => void;\n}\n\nexport default function CreateEventModal({ isOpen, onClose, db, onCreateTemplate }: CreateEventModalProps) {\n  const { toast } = useToast();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [templates, setTemplates] = useState<ServiceTemplate[]>([]);\n  const form = useForm<EventFormValues>({\n    resolver: zodResolver(eventFormSchema),\n    defaultValues: {\n      eventName: '',\n      notes: '',\n      templateId: undefined,\n    },\n  });\n\n  useEffect(() => {\n    if (isOpen) {\n      db.getServiceTemplates().then(setTemplates);\n      form.reset({\n        eventName: '',\n        notes: '',\n        templateId: undefined,\n      });\n    }\n  }, [isOpen, db, form]);\n  \n  const handleTemplateChange = (value: string) => {\n    if (value === 'create_new') {\n        onCreateTemplate();\n    } else {\n        form.setValue('templateId', value);\n    }\n  }\n\n  const onSubmit = async (data: EventFormValues) => {\n    setIsSubmitting(true);\n    try {\n      await db.createEvent({\n          eventName: data.eventName,\n          eventDate: data.eventDate,\n          notes: data.notes\n      }, data.templateId);\n\n      toast({\n        title: 'Event Created',\n        description: `\"${data.eventName}\" has been added to the calendar.`,\n      });\n      form.reset();\n      onClose();\n    } catch (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error',\n        description: 'Failed to create event. Please try again.',\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-[425px]\">\n        <DialogHeader>\n          <DialogTitle className=\"font-headline\">Create New Service</DialogTitle>\n          <DialogDescription>Fill in the details for the new event.</DialogDescription>\n        </DialogHeader>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4 py-4\">\n             <FormField\n              control={form.control}\n              name=\"templateId\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Service Template (Optional)</FormLabel>\n                   <Select onValueChange={handleTemplateChange} value={field.value}>\n                    <FormControl>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Start with a template...\" />\n                      </SelectTrigger>\n                    </FormControl>\n                    <SelectContent>\n                      {templates.map(template => (\n                        <SelectItem key={template.id} value={template.id}>{template.name}</SelectItem>\n                      ))}\n                      <SelectSeparator />\n                      <SelectItem value=\"create_new\">\n                        <span className=\"flex items-center gap-2\">\n                           <PlusSquare className=\"h-4 w-4\"/> Create new template\n                        </span>\n                      </SelectItem>\n                    </SelectContent>\n                  </Select>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n            <FormField\n              control={form.control}\n              name=\"eventName\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Event Name</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"e.g., Sunday Morning Eucharist\" {...field} />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n            <FormField\n              control={form.control}\n              name=\"eventDate\"\n              render={({ field }) => (\n                <FormItem className=\"flex flex-col\">\n                  <FormLabel>Event Date & Time</FormLabel>\n                  <Popover>\n                    <PopoverTrigger asChild>\n                      <FormControl>\n                        <Button\n                          variant={'outline'}\n                          className={cn(\n                            'w-full pl-3 text-left font-normal',\n                            !field.value && 'text-muted-foreground'\n                          )}\n                        >\n                          {field.value ? format(field.value, 'PPP p') : <span>Pick a date</span>}\n                          <CalendarIcon className=\"ml-auto h-4 w-4 opacity-50\" />\n                        </Button>\n                      </FormControl>\n                    </PopoverTrigger>\n                    <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                      <Calendar\n                        mode=\"single\"\n                        selected={field.value}\n                        onSelect={(date) => {\n                           if (!date) return;\n                           const currentTime = field.value || new Date();\n                           date.setHours(currentTime.getHours(), currentTime.getMinutes());\n                           field.onChange(date);\n                        }}\n                        initialFocus\n                      />\n                       <div className=\"p-3 border-t border-border\">\n                          <Input\n                            type=\"time\"\n                            defaultValue={field.value ? format(field.value, 'HH:mm') : '09:00'}\n                            onChange={(e) => {\n                                const [hours, minutes] = e.target.value.split(':');\n                                const newDate = field.value ? new Date(field.value) : new Date();\n                                newDate.setHours(parseInt(hours, 10), parseInt(minutes, 10));\n                                field.onChange(newDate);\n                            }}\n                          />\n                        </div>\n                    </PopoverContent>\n                  </Popover>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n            <FormField\n              control={form.control}\n              name=\"notes\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Notes (Optional)</FormLabel>\n                  <FormControl>\n                    <Textarea placeholder=\"Any additional information...\" {...field} />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n            <DialogFooter>\n              <Button type=\"button\" variant=\"ghost\" onClick={onClose} disabled={isSubmitting}>Cancel</Button>\n              <Button type=\"submit\" disabled={isSubmitting}>\n                {isSubmitting && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                Create Event\n              </Button>\n            </DialogFooter>\n          </form>\n        </Form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2445, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 2493, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/admin/CreateTemplateModal.tsx"],"sourcesContent":["'use client';\nimport { useState, useEffect } from 'react';\nimport { useForm, useFieldArray } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport * as z from 'zod';\nimport { Loader2, Plus, Trash2, X } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter, DialogDescription } from '@/components/ui/dialog';\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport { useToast } from '@/hooks/use-toast';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { useMockDatabase } from '@/lib/data';\nimport type { UniversalRole, TemplateRole } from '@/types';\nimport { Badge } from '../ui/badge';\n\nconst templateFormSchema = z.object({\n  name: z.string().min(3, 'Template name must be at least 3 characters.'),\n  roles: z.array(z.object({\n    roleId: z.string(),\n    name: z.string(),\n  })).min(1, 'A template must have at least one role.'),\n});\n\ntype TemplateFormValues = z.infer<typeof templateFormSchema>;\n\ninterface CreateTemplateModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  db: ReturnType<typeof useMockDatabase>;\n}\n\nexport default function CreateTemplateModal({ isOpen, onClose, db }: CreateTemplateModalProps) {\n  const { toast } = useToast();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [universalRoles, setUniversalRoles] = useState<UniversalRole[]>([]);\n\n  const form = useForm<TemplateFormValues>({\n    resolver: zodResolver(templateFormSchema),\n    defaultValues: {\n      name: '',\n      roles: [],\n    },\n  });\n\n  const { fields, append, remove } = useFieldArray({\n    control: form.control,\n    name: 'roles',\n  });\n\n  useEffect(() => {\n    if (isOpen) {\n      db.getUniversalRoles().then(setUniversalRoles);\n      form.reset({\n        name: '',\n        roles: [],\n      });\n    }\n  }, [isOpen, db, form]);\n  \n  const addRole = (roleId: string) => {\n    const role = universalRoles.find(r => r.id === roleId);\n    if (role) {\n        append({ roleId: role.id, name: role.name });\n    }\n  }\n\n  const onSubmit = async (data: TemplateFormValues) => {\n    setIsSubmitting(true);\n    try {\n        const templateRoles: TemplateRole[] = data.roles.map(r => ({\n            ...r,\n            instanceId: `role_${Date.now()}_${Math.random()}`,\n        }));\n\n      await db.createServiceTemplate(data.name, templateRoles);\n\n      toast({\n        title: 'Template Created',\n        description: `\"${data.name}\" has been saved.`,\n      });\n      form.reset();\n      onClose();\n    } catch (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Error',\n        description: 'Failed to create template. Please try again.',\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-[480px]\">\n        <DialogHeader>\n          <DialogTitle className=\"font-headline\">Create New Template</DialogTitle>\n          <DialogDescription>Create a reusable template for your services.</DialogDescription>\n        </DialogHeader>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4 py-4\">\n            <FormField\n              control={form.control}\n              name=\"name\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Template Name</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"e.g., Standard Sunday Service\" {...field} />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n            \n            <FormItem>\n                <FormLabel>Roles</FormLabel>\n                <div className=\"flex flex-wrap gap-2 p-2 rounded-md border min-h-12 bg-background\">\n                    {fields.map((field, index) => (\n                        <Badge key={field.id} variant=\"secondary\" className=\"flex items-center gap-1\">\n                            <span>{field.name}</span>\n                            <button type=\"button\" onClick={() => remove(index)} className=\"ml-1 rounded-full hover:bg-muted-foreground/20\">\n                                <X className=\"h-3 w-3\" />\n                            </button>\n                        </Badge>\n                    ))}\n                    {fields.length === 0 && <p className=\"text-sm text-muted-foreground px-2\">Add roles below...</p>}\n                </div>\n                 <FormField\n                    control={form.control}\n                    name=\"roles\"\n                    render={() => (\n                        <FormMessage className=\"mt-2\" />\n                     )}\n                />\n            </FormItem>\n\n             <Select onValueChange={addRole} value=\"\">\n                <SelectTrigger>\n                    <SelectValue placeholder=\"Add a role to the template...\" />\n                </SelectTrigger>\n                <SelectContent>\n                    {universalRoles.map(role => (\n                        <SelectItem key={role.id} value={role.id}>{role.name}</SelectItem>\n                    ))}\n                </SelectContent>\n            </Select>\n\n            <DialogFooter>\n              <Button type=\"button\" variant=\"ghost\" onClick={onClose} disabled={isSubmitting}>Cancel</Button>\n              <Button type=\"submit\" disabled={isSubmitting}>\n                {isSubmitting && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                Create Template\n              </Button>\n            </DialogFooter>\n          </form>\n        </Form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2869, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 2972, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3124, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/admin/EventDetailsModal.tsx"],"sourcesContent":["'use client';\nimport { useState, useEffect } from 'react';\nimport { format } from 'date-fns';\nimport { Calendar, Clock, Edit, Plus, Save, Trash2, X, Loader2, Sparkles } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from '@/components/ui/dialog';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip';\nimport type { Event, Role, Volunteer, UniversalRole } from '@/types';\nimport { useToast } from '@/hooks/use-toast';\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle, AlertDialogTrigger } from '@/components/ui/alert-dialog';\nimport { useMockDatabase } from '@/lib/data';\nimport { isSameDay, isFuture } from 'date-fns';\n\ninterface EventDetailsModalProps {\n  event: Event;\n  isOpen: boolean;\n  onClose: () => void;\n  db: ReturnType<typeof useMockDatabase>;\n}\n\nconst statusColor: Record<Role['status'], string> = {\n  Pending: 'bg-accent',\n  Confirmed: 'bg-primary',\n  Declined: 'bg-destructive',\n};\n\nfunction RoleRow({ role, onUpdate, onDelete, onAssign, volunteers, isSaving }: { role: Role; onUpdate: (roleName: string) => void; onDelete: () => void; onAssign: (volunteerId: string) => void; volunteers: Volunteer[]; isSaving: boolean }) {\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedName, setEditedName] = useState(role.roleName);\n\n  const handleSave = () => {\n    onUpdate(editedName);\n    setIsEditing(false);\n  };\n\n  return (\n    <div className=\"flex items-center gap-2 p-2 rounded-md hover:bg-muted/50\">\n      <TooltipProvider>\n        <Tooltip>\n          <TooltipTrigger>\n            <div className={`h-2.5 w-2.5 rounded-full ${statusColor[role.status]}`} />\n          </TooltipTrigger>\n          <TooltipContent>{role.status}</TooltipContent>\n        </Tooltip>\n      </TooltipProvider>\n\n      <div className=\"flex-1\">\n        {isEditing ? (\n          <Input value={editedName} onChange={(e) => setEditedName(e.target.value)} className=\"h-8\" />\n        ) : (\n          <p className=\"font-medium\">{role.roleName}</p>\n        )}\n      </div>\n      <div className=\"w-48\">\n        <Select\n          value={role.assignedVolunteerId ?? ''}\n          onValueChange={onAssign}\n          disabled={isSaving}\n        >\n          <SelectTrigger className=\"h-8\">\n            <SelectValue placeholder=\"Assign volunteer...\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"unassign\">\n              <span className=\"text-muted-foreground italic\">Unassign</span>\n            </SelectItem>\n            {volunteers.map(v => (\n              <SelectItem key={v.id} value={v.id}>{v.name}</SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      </div>\n      <div className=\"flex items-center gap-1\">\n        {isEditing ? (\n          <Button size=\"icon\" variant=\"ghost\" className=\"h-8 w-8\" onClick={handleSave} disabled={isSaving}>\n            <Save className=\"h-4 w-4\" />\n          </Button>\n        ) : (\n          <Button size=\"icon\" variant=\"ghost\" className=\"h-8 w-8\" onClick={() => setIsEditing(true)}>\n            <Edit className=\"h-4 w-4\" />\n          </Button>\n        )}\n        <AlertDialog>\n          <AlertDialogTrigger asChild>\n            <Button size=\"icon\" variant=\"ghost\" className=\"h-8 w-8 text-destructive hover:text-destructive\">\n              <Trash2 className=\"h-4 w-4\" />\n            </Button>\n          </AlertDialogTrigger>\n          <AlertDialogContent>\n            <AlertDialogHeader>\n              <AlertDialogTitle>Are you sure?</AlertDialogTitle>\n              <AlertDialogDescription>\n                This will permanently delete the \"{role.roleName}\" role from this service. This action cannot be undone.\n              </AlertDialogDescription>\n            </AlertDialogHeader>\n            <AlertDialogFooter>\n              <AlertDialogCancel>Cancel</AlertDialogCancel>\n              <AlertDialogAction onClick={onDelete} className=\"bg-destructive hover:bg-destructive/90 text-destructive-foreground\">Delete</AlertDialogAction>\n            </AlertDialogFooter>\n          </AlertDialogContent>\n        </AlertDialog>\n      </div>\n    </div>\n  );\n}\n\nexport default function EventDetailsModal({ event, isOpen, onClose, db }: EventDetailsModalProps) {\n  const { toast } = useToast();\n  const [volunteers, setVolunteers] = useState<Volunteer[]>([]);\n  const [universalRoles, setUniversalRoles] = useState<UniversalRole[]>([]);\n  const [isSaving, setIsSaving] = useState(false);\n  const [currentEvent, setCurrentEvent] = useState(event);\n\n  useEffect(() => {\n    // Keep internal state updated if the parent's event object changes\n    const liveEvent = db.events.find(e => e.id === event.id);\n    if (liveEvent) {\n      setCurrentEvent(liveEvent);\n    }\n  }, [db.events, event.id]);\n\n\n  useEffect(() => {\n    if (isOpen) {\n      db.getVolunteers().then(setVolunteers);\n      db.getUniversalRoles().then(setUniversalRoles);\n    }\n  }, [isOpen, db]);\n\n  const handleAddRole = async (roleId: string) => {\n    const roleToAdd = universalRoles.find(r => r.id === roleId);\n    if (!roleToAdd) return;\n    \n    setIsSaving(true);\n    try {\n      await db.addRoleToEvent(event.id, {\n        roleName: roleToAdd.name,\n        assignedVolunteerId: null,\n        assignedVolunteerName: null,\n        status: 'Pending',\n      });\n      toast({ title: 'Role Added', description: `\"${roleToAdd.name}\" has been added.` });\n    } catch (e) {\n      toast({ variant: 'destructive', title: 'Error', description: 'Failed to add role.' });\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleUpdateRole = async (roleId: string, roleName: string) => {\n    setIsSaving(true);\n    try {\n      await db.updateRoleInEvent(event.id, roleId, { roleName });\n      toast({ title: 'Role Updated', description: `Role name changed to \"${roleName}\".` });\n    } catch (e) {\n      toast({ variant: 'destructive', title: 'Error', description: 'Failed to update role.' });\n    } finally {\n      setIsSaving(false);\n    }\n  };\n  \n  const handleDeleteRole = async (roleId: string) => {\n    setIsSaving(true);\n    try {\n      await db.deleteRoleFromEvent(event.id, roleId);\n      toast({ title: 'Role Deleted' });\n    } catch (e) {\n      toast({ variant: 'destructive', title: 'Error', description: 'Failed to delete role.' });\n    } finally {\n      setIsSaving(false);\n    }\n  };\n  \n  const handleAssignVolunteer = async (roleId: string, volunteerId: string) => {\n    setIsSaving(true);\n    const volunteer = volunteers.find(v => v.id === volunteerId);\n    const assignedVolunteerId = volunteerId === 'unassign' ? null : volunteer?.id ?? null;\n    const assignedVolunteerName = volunteerId === 'unassign' ? null : volunteer?.name ?? null;\n\n    try {\n      await db.updateRoleInEvent(event.id, roleId, { \n        assignedVolunteerId, \n        assignedVolunteerName,\n        status: 'Pending' \n      });\n      toast({ title: 'Volunteer Assigned', description: `${assignedVolunteerName ?? 'Nobody'} assigned to role.` });\n    } catch (e) {\n      toast({ variant: 'destructive', title: 'Error', description: 'Failed to assign volunteer.' });\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleAutoAssign = async () => {\n    setIsSaving(true);\n    toast({ title: \"Auto-assigning...\", description: \"Finding the best volunteers for the job.\" });\n    \n    const unassignedRoles = currentEvent.roles.filter(r => !r.assignedVolunteerId);\n    if (unassignedRoles.length === 0) {\n        toast({ title: \"All roles are already assigned.\" });\n        setIsSaving(false);\n        return;\n    }\n\n    // 1. Get volunteers already assigned in this specific service to avoid double-booking\n    const volunteersAssignedInThisService = new Set(currentEvent.roles\n        .map(r => r.assignedVolunteerId)\n        .filter((id): id is string => id !== null));\n\n    // 2. Calculate current load for all volunteers based on all upcoming events for fairness\n    const allUpcomingEvents = (await db.getEvents(db.MOCK_CHURCH_ID)).filter(e => isFuture(e.eventDate));\n    const volunteerAssignmentCounts = new Map<string, number>();\n    volunteers.forEach(v => volunteerAssignmentCounts.set(v.id, 0));\n    allUpcomingEvents.forEach(e => {\n        e.roles.forEach(r => {\n            if (r.assignedVolunteerId) {\n                const currentCount = volunteerAssignmentCounts.get(r.assignedVolunteerId) || 0;\n                volunteerAssignmentCounts.set(r.assignedVolunteerId, currentCount + 1);\n            }\n        });\n    });\n    \n    let assignmentsMade = 0;\n\n    for (const role of unassignedRoles) {\n        let bestCandidate: Volunteer | null = null;\n        let highestScore = -1;\n\n        const allVolunteers = await db.getVolunteers();\n\n        for (const volunteer of allVolunteers) {\n            // Skip if volunteer is already assigned in this service\n            if (volunteersAssignedInThisService.has(volunteer.id)) continue; \n            \n            // Check availability\n            const availability = await db.getVolunteerAvailability(volunteer.id);\n            if (availability.some(unavailableDate => isSameDay(unavailableDate, currentEvent.eventDate))) {\n                continue; // Skip if unavailable\n            }\n\n            // --- Scoring System ---\n            let score = 100; // Start with a base score\n            \n            // 1. Fairness: Penalize volunteers with more upcoming assignments\n            const assignmentCount = volunteerAssignmentCounts.get(volunteer.id) || 0;\n            score -= assignmentCount * 20; // Higher penalty for more assignments\n\n            // 2. Role Preference: Reward volunteers who prefer this role\n            const universalRole = (await db.getUniversalRoles()).find(ur => ur.name === role.roleName);\n            if (universalRole && volunteer.preferences.preferredRoleIds.includes(universalRole.id)) {\n                score += 30; // Strong bonus for preferred role\n            }\n\n            // 3. Serving Frequency Preference (simplified bonus)\n            switch(volunteer.preferences.servingFrequency) {\n                case 'weekly': score += 10; break;\n                case 'bi-weekly': score += 5; break;\n                case 'as-needed': score += 2; break;\n            }\n\n            if (score > highestScore) {\n                highestScore = score;\n                bestCandidate = volunteer;\n            }\n        }\n        \n        if (bestCandidate) {\n            await handleAssignVolunteer(role.id, bestCandidate.id);\n            volunteersAssignedInThisService.add(bestCandidate.id); // Add to set for this run to prevent re-assignment\n            // Increment their assignment count for the next iteration in this loop\n            const currentCount = volunteerAssignmentCounts.get(bestCandidate.id) || 0;\n            volunteerAssignmentCounts.set(bestCandidate.id, currentCount + 1);\n            assignmentsMade++;\n        }\n    }\n    \n    toast({\n        title: \"Auto-Assign Complete\",\n        description: `Successfully made ${assignmentsMade} new assignments.`\n    });\n    setIsSaving(false);\n  }\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-3xl\">\n        <DialogHeader>\n          <DialogTitle className=\"font-headline text-2xl\">{currentEvent.eventName}</DialogTitle>\n          <div className=\"flex items-center gap-4 text-sm text-muted-foreground pt-2\">\n            <span className=\"flex items-center gap-1.5\"><Calendar className=\"h-4 w-4\" /> {format(currentEvent.eventDate, 'EEEE, MMMM d, yyyy')}</span>\n            <span className=\"flex items-center gap-1.5\"><Clock className=\"h-4 w-4\" /> {format(currentEvent.eventDate, 'p')}</span>\n          </div>\n        </DialogHeader>\n        \n        <div className=\"grid gap-4 py-4 max-h-[70vh] overflow-y-auto pr-2\">\n            {currentEvent.notes && (\n                <Card className=\"bg-muted/50\">\n                    <CardContent className=\"p-4\">\n                        <p className=\"text-sm text-foreground\">{currentEvent.notes}</p>\n                    </CardContent>\n                </Card>\n            )}\n\n            <Card>\n                <CardContent className=\"p-4\">\n                     <div className=\"flex justify-between items-center mb-4\">\n                         <h4 className=\"font-semibold\">Volunteer Roles</h4>\n                     </div>\n                    <div className=\"space-y-1\">\n                        {currentEvent.roles.map(role => (\n                            <RoleRow \n                                key={role.id}\n                                role={role}\n                                volunteers={volunteers}\n                                isSaving={isSaving}\n                                onUpdate={(roleName) => handleUpdateRole(role.id, roleName)}\n                                onDelete={() => handleDeleteRole(role.id)}\n                                onAssign={(volunteerId) => handleAssignVolunteer(role.id, volunteerId)}\n                            />\n                        ))}\n                         {currentEvent.roles.length === 0 && (\n                             <p className=\"text-sm text-center text-muted-foreground py-4\">No roles for this service yet.</p>\n                         )}\n                    </div>\n                    <div className=\"mt-4 pt-4 border-t space-y-4\">\n                        <Select onValueChange={handleAddRole} value=\"\">\n                            <SelectTrigger>\n                                <SelectValue placeholder=\"Add a role from your list...\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                                {universalRoles.map(role => (\n                                    <SelectItem key={role.id} value={role.id}>{role.name}</SelectItem>\n                                ))}\n                            </SelectContent>\n                        </Select>\n                        <Button variant=\"outline\" className=\"w-full\" onClick={handleAutoAssign} disabled={isSaving}>\n                             {isSaving ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\"/> : <Sparkles className=\"mr-2 h-4 w-4\" />}\n                             Auto-Assign Unfilled Roles\n                         </Button>\n                    </div>\n                </CardContent>\n            </Card>\n        </div>\n        <DialogFooter>\n          <Button onClick={onClose} variant=\"outline\">Close</Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3915, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4143, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;;AAGb,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,WAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,wEACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,qKAAA,CAAA,WAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 4207, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,OAAqB;QACpB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,qKAAA,CAAA,QAAsB;YACrB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 4250, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/Header.tsx"],"sourcesContent":["\n'use client';\n\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { Button } from '@/components/ui/button';\nimport { Church, LogOut, ShieldCheck, User } from 'lucide-react';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { useAuth } from '@/hooks/use-auth';\nimport { Switch } from '@/components/ui/switch';\nimport { Label } from '@/components/ui/label';\nimport { SidebarTrigger, useSidebar } from '../ui/sidebar';\n\nexport function Header() {\n  const router = useRouter();\n  const { isAdmin, toggleAdmin, logout, isLoggedIn, firebaseUser, isAdmin } = useAuth();\n  const { isMobile } = useSidebar();\n\n\n  const handleLogout = () => {\n    logout();\n    router.push('/');\n  };\n  \n  if (!isLoggedIn) {\n      return null;\n  }\n\n  const userInitial = firebaseUser?.displayName?.charAt(0) || (isAdmin ? 'A' : 'V');\n  const userName = firebaseUser?.displayName || (isAdmin ? 'Admin User' : 'Volunteer User');\n  const userEmail = firebaseUser?.email || (isAdmin ? 'admin@example.com' : 'volunteer@example.com');\n\n  return (\n    <header className=\"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n      <div className=\"container flex h-14 items-center\">\n         {isMobile && <SidebarTrigger />}\n        <Link href={isAdmin ? \"/admin\" : \"/my-schedule\"} className=\"mr-6 flex items-center space-x-2\">\n          <Church className=\"h-6 w-6 text-primary\" />\n          <span className=\"font-bold font-headline sm:inline-block\">Weaver's Loom</span>\n        </Link>\n        <div className=\"ml-auto\">\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n               <Button variant=\"ghost\" className=\"relative h-8 w-8 rounded-full\">\n                <Avatar className=\"h-8 w-8\">\n                  {firebaseUser?.photoURL && <AvatarImage src={firebaseUser.photoURL} alt={userName} />}\n                  <AvatarFallback>{userInitial}</AvatarFallback>\n                </Avatar>\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent className=\"w-56\" align=\"end\" forceMount>\n               <DropdownMenuLabel className=\"font-normal\">\n                <div className=\"flex flex-col space-y-1\">\n                  <p className=\"text-sm font-medium leading-none\">{userName}</p>\n                  <p className=\"text-xs leading-none text-muted-foreground\">\n                    {userEmail}\n                  </p>\n                </div>\n              </DropdownMenuLabel>\n              <DropdownMenuSeparator />\n               {isAdmin && (\n                 <div className=\"px-2 py-1.5 text-sm\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label htmlFor=\"admin-mode\" className=\"flex items-center gap-2 cursor-pointer\">\n                      <ShieldCheck className=\"h-4 w-4\" /> Admin Access\n                    </Label>\n                    <Switch\n                      id=\"admin-mode\"\n                      checked={isAdmin}\n                      onCheckedChange={toggleAdmin}\n                    />\n                  </div>\n                </div>\n               )}\n              <DropdownMenuSeparator />\n              <DropdownMenuItem onClick={handleLogout}>\n                <LogOut className=\"mr-2 h-4 w-4\" />\n                <span>Log out</span>\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAQA;AACA;AACA;AACA;AACA;;;AAlBA;;;;;;;;;;;AAoBO,SAAS;;IACd,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,UAAU,EAAE,YAAY,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IACrF,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,sIAAA,CAAA,aAAU,AAAD;IAG9B,MAAM,eAAe;QACnB;QACA,OAAO,IAAI,CAAC;IACd;IAEA,IAAI,CAAC,YAAY;QACb,OAAO;IACX;IAEA,MAAM,cAAc,cAAc,aAAa,OAAO,MAAM,CAAC,UAAU,MAAM,GAAG;IAChF,MAAM,WAAW,cAAc,eAAe,CAAC,UAAU,eAAe,gBAAgB;IACxF,MAAM,YAAY,cAAc,SAAS,CAAC,UAAU,sBAAsB,uBAAuB;IAEjG,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;gBACX,0BAAY,6LAAC,sIAAA,CAAA,iBAAc;;;;;8BAC7B,6LAAC,+JAAA,CAAA,UAAI;oBAAC,MAAM,UAAU,WAAW;oBAAgB,WAAU;;sCACzD,6LAAC,yMAAA,CAAA,SAAM;4BAAC,WAAU;;;;;;sCAClB,6LAAC;4BAAK,WAAU;sCAA0C;;;;;;;;;;;;8BAE5D,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,+IAAA,CAAA,eAAY;;0CACX,6LAAC,+IAAA,CAAA,sBAAmB;gCAAC,OAAO;0CACzB,cAAA,6LAAC,qIAAA,CAAA,SAAM;oCAAC,SAAQ;oCAAQ,WAAU;8CACjC,cAAA,6LAAC,qIAAA,CAAA,SAAM;wCAAC,WAAU;;4CACf,cAAc,0BAAY,6LAAC,qIAAA,CAAA,cAAW;gDAAC,KAAK,aAAa,QAAQ;gDAAE,KAAK;;;;;;0DACzE,6LAAC,qIAAA,CAAA,iBAAc;0DAAE;;;;;;;;;;;;;;;;;;;;;;0CAIvB,6LAAC,+IAAA,CAAA,sBAAmB;gCAAC,WAAU;gCAAO,OAAM;gCAAM,UAAU;;kDACzD,6LAAC,+IAAA,CAAA,oBAAiB;wCAAC,WAAU;kDAC5B,cAAA,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAE,WAAU;8DAAoC;;;;;;8DACjD,6LAAC;oDAAE,WAAU;8DACV;;;;;;;;;;;;;;;;;kDAIP,6LAAC,+IAAA,CAAA,wBAAqB;;;;;oCACpB,4BACC,6LAAC;wCAAI,WAAU;kDACd,cAAA,6LAAC;4CAAI,WAAU;;8DACb,6LAAC,oIAAA,CAAA,QAAK;oDAAC,SAAQ;oDAAa,WAAU;;sEACpC,6LAAC,uNAAA,CAAA,cAAW;4DAAC,WAAU;;;;;;wDAAY;;;;;;;8DAErC,6LAAC,qIAAA,CAAA,SAAM;oDACL,IAAG;oDACH,SAAS;oDACT,iBAAiB;;;;;;;;;;;;;;;;;kDAKzB,6LAAC,+IAAA,CAAA,wBAAqB;;;;;kDACtB,6LAAC,+IAAA,CAAA,mBAAgB;wCAAC,SAAS;;0DACzB,6LAAC,6MAAA,CAAA,SAAM;gDAAC,WAAU;;;;;;0DAClB,6LAAC;0DAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQtB;GAxEgB;;QACC,qIAAA,CAAA,YAAS;QACuD,+HAAA,CAAA,UAAO;QACjE,sIAAA,CAAA,aAAU;;;KAHjB","debugId":null}},
    {"offset": {"line": 4533, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uKAAA,CAAA,OAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,uKAAA,CAAA,YAA2B;YAC1B,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE;sBAEd,cAAA,6LAAC,uMAAA,CAAA,QAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,uKAAA,CAAA,OAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 4585, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,6KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,6KAAA,CAAA,SAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC,6KAAA,CAAA,sBAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,6KAAA,CAAA,kBAAmC;YAAC,WAAU;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,6KAAA,CAAA,sBAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 4662, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,mKAAA,CAAA,OAAkB;AAE/B,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mKAAA,CAAA,OAAkB;QACjB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8FACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,mKAAA,CAAA,OAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,uYACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,mKAAA,CAAA,UAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mIACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,mKAAA,CAAA,UAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 4728, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/fetch-ics-from-url-flow.ts"],"sourcesContent":["'use server';\n/**\n * @fileOverview Fetches and parses ICS calendar content from a URL.\n * \n * - fetchAndParseIcs - A function that handles fetching and parsing of an ICS URL.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'zod';\nimport { parseIcsContent } from './parse-ics-flow';\nimport type { ParsedEvent } from '@/types';\n\nexport async function fetchAndParseIcs(url: string): Promise<ParsedEvent[]> {\n    const fetchIcsFlow = ai.defineFlow(\n        {\n            name: 'fetchIcsFromUrlFlow',\n            inputSchema: z.string().url(),\n            outputSchema: z.array(z.any()),\n        },\n        async (icsUrl) => {\n            try {\n                const response = await fetch(icsUrl);\n                if (!response.ok) {\n                    throw new Error(`Failed to fetch ICS file: ${response.statusText}`);\n                }\n                const icsContent = await response.text();\n                return await parseIcsContent(icsContent);\n            } catch (error: any) {\n                console.error(\"Error fetching or parsing ICS from URL:\", error);\n                throw new Error(\"Could not retrieve or parse the calendar data from the provided URL.\");\n            }\n        }\n    );\n\n    return await fetchIcsFlow(url);\n}\n"],"names":[],"mappings":";;;;;;IAYsB,mBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 4744, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/admin/ImportIcsModal.tsx"],"sourcesContent":["\n'use client';\nimport { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter, DialogDescription } from '@/components/ui/dialog';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Loader2, Upload, Link } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport type { ParsedEvent, Event } from '@/types';\nimport { Checkbox } from '../ui/checkbox';\nimport { format } from 'date-fns';\nimport { ScrollArea } from '../ui/scroll-area';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { fetchAndParseIcs } from '@/ai/flows/fetch-ics-from-url-flow';\n\n\ninterface ImportIcsModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  importAction: (icsContent: string) => Promise<ParsedEvent[]>;\n  createEvent: (newEventData: Omit<Event, 'id' | 'roles' | 'churchId'>) => Promise<Event>;\n}\n\nexport default function ImportIcsModal({ isOpen, onClose, importAction, createEvent }: ImportIcsModalProps) {\n  const { toast } = useToast();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [icsUrl, setIcsUrl] = useState('');\n  const [parsedEvents, setParsedEvents] = useState<ParsedEvent[]>([]);\n  const [selectedEvents, setSelectedEvents] = useState<Record<string, boolean>>({});\n\n  const resetState = () => {\n    setSelectedFile(null);\n    setIcsUrl('');\n    setParsedEvents([]);\n    setSelectedEvents({});\n    setIsSubmitting(false);\n  }\n\n  const handleClose = () => {\n    resetState();\n    onClose();\n  }\n\n  const handleFileChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files && event.target.files[0]) {\n      const file = event.target.files[0];\n      setSelectedFile(file);\n      setIsSubmitting(true);\n\n      const reader = new FileReader();\n      reader.onload = async (e) => {\n        const content = e.target?.result as string;\n        if (!content) {\n          toast({ variant: 'destructive', title: 'Error', description: 'Could not read file content.' });\n          setIsSubmitting(false);\n          return;\n        }\n        await processIcsContent(content);\n      };\n      reader.readAsText(file);\n    }\n  };\n\n  const handleUrlImport = async () => {\n      if (!icsUrl) {\n          toast({ variant: 'destructive', title: 'URL is required' });\n          return;\n      }\n      setIsSubmitting(true);\n      try {\n          const events = await fetchAndParseIcs(icsUrl);\n          setParsedEvents(events);\n          const initialSelection = events.reduce((acc, _, index) => ({...acc, [`event-${index}`]: true }), {});\n          setSelectedEvents(initialSelection);\n      } catch (error) {\n           toast({\n            variant: 'destructive',\n            title: 'Import Failed',\n            description: (error as Error).message || 'Could not parse the ICS URL. Please check the URL and try again.',\n          });\n      } finally {\n          setIsSubmitting(false);\n      }\n  }\n\n  const processIcsContent = async (content: string) => {\n      try {\n        const events = await importAction(content);\n        setParsedEvents(events);\n        const initialSelection = events.reduce((acc, event, index) => {\n          acc[`event-${index}`] = true;\n          return acc;\n        }, {} as Record<string, boolean>);\n        setSelectedEvents(initialSelection);\n      } catch (error) {\n         toast({\n          variant: 'destructive',\n          title: 'Import Failed',\n          description: 'Could not parse the ICS file. Please check the file format and try again.',\n        });\n      } finally {\n        setIsSubmitting(false);\n      }\n  }\n\n  const handleToggleSelection = (eventId: string) => {\n    setSelectedEvents(prev => ({ ...prev, [eventId]: !prev[eventId] }));\n  }\n\n  const handleSubmit = async () => {\n    const eventsToCreate = parsedEvents.filter((_, index) => selectedEvents[`event-${index}`]);\n\n    if (eventsToCreate.length === 0) {\n      toast({\n        variant: 'destructive',\n        title: 'No events selected',\n        description: 'Please select at least one event to import.',\n      });\n      return;\n    }\n\n    setIsSubmitting(true);\n    let successCount = 0;\n    try {\n      for (const pEvent of eventsToCreate) {\n        await createEvent({\n          eventName: pEvent.eventName,\n          eventDate: new Date(pEvent.eventDate),\n          notes: pEvent.notes\n        });\n        successCount++;\n      }\n\n      toast({\n        title: 'Import Successful',\n        description: `Successfully imported ${successCount} events.`,\n      });\n      handleClose();\n    } catch (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Import Failed',\n        description: 'An error occurred while creating events. Please try again.',\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={(open) => !open && handleClose()}>\n      <DialogContent className=\"sm:max-w-lg\">\n        <DialogHeader>\n          <DialogTitle className=\"font-headline\">Import Events</DialogTitle>\n          <DialogDescription>Upload a .ics file or use a public URL to import events.</DialogDescription>\n        </DialogHeader>\n        \n        {parsedEvents.length === 0 ? (\n            <Tabs defaultValue=\"file\" className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-2\">\n                <TabsTrigger value=\"file\">File Upload</TabsTrigger>\n                <TabsTrigger value=\"url\">From URL</TabsTrigger>\n              </TabsList>\n              <TabsContent value=\"file\">\n                 <div className=\"grid gap-4 py-4\">\n                    <div className=\"grid w-full max-w-sm items-center gap-1.5\">\n                        <Label htmlFor=\"ics-file\">ICS File</Label>\n                        <Input id=\"ics-file\" type=\"file\" accept=\".ics\" onChange={handleFileChange} disabled={isSubmitting} />\n                    </div>\n                    {isSubmitting && <div className=\"flex items-center gap-2 text-muted-foreground\"><Loader2 className=\"h-4 w-4 animate-spin\"/> Parsing file...</div>}\n                </div>\n              </TabsContent>\n              <TabsContent value=\"url\">\n                 <div className=\"grid gap-4 py-4\">\n                    <div className=\"grid w-full items-center gap-1.5\">\n                        <Label htmlFor=\"ics-url\">Public ICS URL</Label>\n                        <Input id=\"ics-url\" type=\"url\" placeholder=\"https://calendar.google.com/...\" value={icsUrl} onChange={e => setIcsUrl(e.target.value)} disabled={isSubmitting} />\n                         <p className=\"text-xs text-muted-foreground\">This must be a publicly accessible calendar URL.</p>\n                    </div>\n                    <Button onClick={handleUrlImport} disabled={isSubmitting || !icsUrl}>\n                        {isSubmitting ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\"/> : <Link className=\"mr-2 h-4 w-4\" />}\n                        Fetch & Review\n                    </Button>\n                </div>\n              </TabsContent>\n            </Tabs>\n        ) : (\n            <div className=\"py-4 space-y-4\">\n                <p className=\"font-semibold\">Review events to import</p>\n                <ScrollArea className=\"h-72 border rounded-md p-2\">\n                    <div className=\"space-y-2\">\n                    {parsedEvents.map((event, index) => {\n                        const eventId = `event-${index}`;\n                        return (\n                            <div key={eventId} className=\"flex items-center space-x-2 p-2 bg-muted/50 rounded-md\">\n                                <Checkbox \n                                    id={eventId}\n                                    checked={selectedEvents[eventId]}\n                                    onCheckedChange={() => handleToggleSelection(eventId)}\n                                />\n                                <Label htmlFor={eventId} className=\"w-full cursor-pointer\">\n                                    <div className=\"flex flex-col\">\n                                        <span className=\"font-medium\">{event.eventName}</span>\n                                        <span className=\"text-xs text-muted-foreground\">{format(new Date(event.eventDate), 'PPP p')}</span>\n                                    </div>\n                                </Label>\n                            </div>\n                        )\n                    })}\n                    </div>\n                </ScrollArea>\n                <div className=\"text-sm text-muted-foreground\">\n                    {Object.values(selectedEvents).filter(Boolean).length} of {parsedEvents.length} events selected.\n                </div>\n            </div>\n        )}\n\n        <DialogFooter>\n          <Button type=\"button\" variant=\"ghost\" onClick={handleClose} disabled={isSubmitting}>Cancel</Button>\n          {parsedEvents.length > 0 && (\n            <Button onClick={handleSubmit} disabled={isSubmitting}>\n              {isSubmitting ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Upload className=\"mr-2 h-4 w-4\" />}\n              Import {isSubmitting ? '' : `(${Object.values(selectedEvents).filter(Boolean).length})`} Events\n            </Button>\n          )}\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5279, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/parse-ics-flow.ts"],"sourcesContent":["'use server';\n/**\n * @fileOverview Parses ICS calendar content into a structured event format.\n * \n * - parseIcsContent - A function that handles parsing of ICS content.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'zod';\nimport type { ParsedEvent } from '@/types';\n\nconst IcsParseOutputSchema = z.array(\n    z.object({\n        eventName: z.string().describe('The summary or title of the event.'),\n        eventDate: z.string().datetime().describe('The start date and time of the event in ISO 8601 format.'),\n        notes: z.string().optional().describe('The description or notes for the event.'),\n    })\n);\n\nexport async function parseIcsContent(icsContent: string): Promise<ParsedEvent[]> {\n    const prompt = ai.definePrompt({\n        name: 'icsParserPrompt',\n        input: { schema: z.string() },\n        output: { schema: IcsParseOutputSchema },\n        prompt: `You are an expert at parsing iCalendar (.ics) data. Parse the following ICS data and extract the events. For each event, provide the event summary (VEVENT:SUMMARY), start date (VEVENT:DTSTART), and description (VEVENT:DESCRIPTION). Convert DTSTART to a full ISO 8601 UTC timestamp.\n\nICS Data:\n{{{input}}}`,\n    });\n    \n    const { output } = await prompt(icsContent);\n    return output || [];\n}\n"],"names":[],"mappings":";;;;;;IAmBsB,kBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 5295, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/AppShell.tsx"],"sourcesContent":["\n'use client';\nimport { Sidebar, SidebarContent, SidebarGroup, SidebarMenu, SidebarMenuItem, SidebarMenuButton, useSidebar } from \"@/components/ui/sidebar\"\nimport { useAuth } from \"@/hooks/use-auth\";\nimport { useMockDatabase } from \"@/lib/data\";\nimport { BookCopy, Calendar, CalendarCheck, Settings, Share2, ShieldCheck, UserCog, Users } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\n\nconst AppSidebar = () => {\n    const pathname = usePathname();\n    const db = useMockDatabase();\n    const { isAdmin, MOCK_VOLUNTEER_ID } = useAuth();\n    const { setOpenMobile } = useSidebar();\n    const [familyManagementEnabled, setFamilyManagementEnabled] = useState(false);\n\n    useEffect(() => {\n        const checkFamilyManagement = () => {\n        const volunteer = db.getVolunteersSync().find(v => v.id === MOCK_VOLUNTEER_ID);\n        if (volunteer) {\n            setFamilyManagementEnabled(volunteer.preferences.familyManagementEnabled);\n        }\n        };\n        \n        checkFamilyManagement();\n        \n        window.addEventListener('storage', checkFamilyManagement);\n        return () => {\n        window.removeEventListener('storage', checkFamilyManagement);\n        }\n\n    }, [db, MOCK_VOLUNTEER_ID]);\n\n\n    const baseNavLinks = [\n        { href: '/my-schedule', label: 'My Schedule', icon: Calendar },\n        { href: '/my-availability', label: 'My Availability', icon: CalendarCheck },\n        { href: '/my-preferences', label: 'My Preferences', icon: Settings },\n    ];\n\n    if (familyManagementEnabled && !isAdmin) {\n        baseNavLinks.push({ href: '/my-family', label: 'My Family', icon: UserCog });\n    }\n\n    const navLinks = isAdmin\n        ? [\n            { href: '/admin', label: 'Admin Console', icon: ShieldCheck },\n            { href: '/admin/services', label: 'Services', icon: Calendar },\n            { href: '/admin/volunteers', label: 'Volunteers', icon: Users },\n            { href: '/admin/templates', label: 'Templates', icon: BookCopy },\n            { href: '/admin/settings', label: 'Settings', icon: Settings },\n            { href: '/admin/share', label: 'Share', icon: Share2 },\n        ]\n        : baseNavLinks;\n    \n    return (\n        <Sidebar>\n            <SidebarContent>\n            <SidebarGroup>\n                <SidebarMenu>\n                {navLinks.map(({ href, label, icon: Icon }) => (\n                    <SidebarMenuItem key={href}>\n                        <SidebarMenuButton asChild isActive={pathname.startsWith(href) && (href !== '/admin' || pathname === '/admin')} tooltip={label}>\n                            <Link href={href} onClick={() => setOpenMobile(false)}>\n                                <Icon />\n                                <span>{label}</span>\n                            </Link>\n                        </SidebarMenuButton>\n                    </SidebarMenuItem>\n                ))}\n                </SidebarMenu>\n            </SidebarGroup>\n            </SidebarContent>\n        </Sidebar>\n    );\n};\n\n\nexport default function AppShell({ children }: { children: React.ReactNode }) {\n\n    return (\n        <div className=\"flex\">\n            <AppSidebar />\n            <main className=\"flex-1\">\n                {children}\n            </main>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;AAPA;;;;;;;;AASA,MAAM,aAAa;;IACf,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,KAAK,CAAA,GAAA,qHAAA,CAAA,kBAAe,AAAD;IACzB,MAAM,EAAE,OAAO,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAC7C,MAAM,EAAE,aAAa,EAAE,GAAG,CAAA,GAAA,sIAAA,CAAA,aAAU,AAAD;IACnC,MAAM,CAAC,yBAAyB,2BAA2B,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACN,MAAM;8DAAwB;oBAC9B,MAAM,YAAY,GAAG,iBAAiB,GAAG,IAAI;gFAAC,CAAA,IAAK,EAAE,EAAE,KAAK;;oBAC5D,IAAI,WAAW;wBACX,2BAA2B,UAAU,WAAW,CAAC,uBAAuB;oBAC5E;gBACA;;YAEA;YAEA,OAAO,gBAAgB,CAAC,WAAW;YACnC;wCAAO;oBACP,OAAO,mBAAmB,CAAC,WAAW;gBACtC;;QAEJ;+BAAG;QAAC;QAAI;KAAkB;IAG1B,MAAM,eAAe;QACjB;YAAE,MAAM;YAAgB,OAAO;YAAe,MAAM,6MAAA,CAAA,WAAQ;QAAC;QAC7D;YAAE,MAAM;YAAoB,OAAO;YAAmB,MAAM,2NAAA,CAAA,gBAAa;QAAC;QAC1E;YAAE,MAAM;YAAmB,OAAO;YAAkB,MAAM,6MAAA,CAAA,WAAQ;QAAC;KACtE;IAED,IAAI,2BAA2B,CAAC,SAAS;QACrC,aAAa,IAAI,CAAC;YAAE,MAAM;YAAc,OAAO;YAAa,MAAM,+MAAA,CAAA,UAAO;QAAC;IAC9E;IAEA,MAAM,WAAW,UACX;QACE;YAAE,MAAM;YAAU,OAAO;YAAiB,MAAM,uNAAA,CAAA,cAAW;QAAC;QAC5D;YAAE,MAAM;YAAmB,OAAO;YAAY,MAAM,6MAAA,CAAA,WAAQ;QAAC;QAC7D;YAAE,MAAM;YAAqB,OAAO;YAAc,MAAM,uMAAA,CAAA,QAAK;QAAC;QAC9D;YAAE,MAAM;YAAoB,OAAO;YAAa,MAAM,iNAAA,CAAA,WAAQ;QAAC;QAC/D;YAAE,MAAM;YAAmB,OAAO;YAAY,MAAM,6MAAA,CAAA,WAAQ;QAAC;QAC7D;YAAE,MAAM;YAAgB,OAAO;YAAS,MAAM,6MAAA,CAAA,SAAM;QAAC;KACxD,GACC;IAEN,qBACI,6LAAC,sIAAA,CAAA,UAAO;kBACJ,cAAA,6LAAC,sIAAA,CAAA,iBAAc;sBACf,cAAA,6LAAC,sIAAA,CAAA,eAAY;0BACT,cAAA,6LAAC,sIAAA,CAAA,cAAW;8BACX,SAAS,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,IAAI,EAAE,iBACtC,6LAAC,sIAAA,CAAA,kBAAe;sCACZ,cAAA,6LAAC,sIAAA,CAAA,oBAAiB;gCAAC,OAAO;gCAAC,UAAU,SAAS,UAAU,CAAC,SAAS,CAAC,SAAS,YAAY,aAAa,QAAQ;gCAAG,SAAS;0CACrH,cAAA,6LAAC,+JAAA,CAAA,UAAI;oCAAC,MAAM;oCAAM,SAAS,IAAM,cAAc;;sDAC3C,6LAAC;;;;;sDACD,6LAAC;sDAAM;;;;;;;;;;;;;;;;;2BAJG;;;;;;;;;;;;;;;;;;;;;;;;;AAc1C;GAlEM;;QACe,qIAAA,CAAA,cAAW;QACjB,qHAAA,CAAA,kBAAe;QACa,+HAAA,CAAA,UAAO;QACpB,sIAAA,CAAA,aAAU;;;KAJlC;AAqES,SAAS,SAAS,EAAE,QAAQ,EAAiC;IAExE,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;;;;;0BACD,6LAAC;gBAAK,WAAU;0BACX;;;;;;;;;;;;AAIjB;MAVwB","debugId":null}},
    {"offset": {"line": 5518, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/accordion.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,YAAY,wKAAA,CAAA,OAAuB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,wKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QACzB,GAAG,KAAK;;;;;;;AAGb,cAAc,WAAW,GAAG;AAE5B,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,wKAAA,CAAA,SAAyB;QAAC,WAAU;kBACnC,cAAA,6LAAC,wKAAA,CAAA,UAA0B;YACzB,KAAK;YACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,gIACA;YAED,GAAG,KAAK;;gBAER;8BACD,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI7B,iBAAiB,WAAW,GAAG,wKAAA,CAAA,UAA0B,CAAC,WAAW;AAErE,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,wKAAA,CAAA,UAA0B;QACzB,KAAK;QACL,WAAU;QACT,GAAG,KAAK;kBAET,cAAA,6LAAC;YAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,aAAa;sBAAa;;;;;;;;;;;;AAIjD,iBAAiB,WAAW,GAAG,wKAAA,CAAA,UAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 5611, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/admin/services/page.tsx"],"sourcesContent":["\n'use client';\nimport { useState, useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Plus, Upload, Edit, User, Clock } from 'lucide-react';\nimport { useMockDatabase } from '@/lib/data';\nimport EventCalendar from '@/components/admin/EventCalendar';\nimport CreateEventModal from '@/components/admin/CreateEventModal';\nimport CreateTemplateModal from '@/components/admin/CreateTemplateModal';\nimport EventDetailsModal from '@/components/admin/EventDetailsModal';\nimport { Header } from '@/components/layout/Header';\nimport type { Event } from '@/types';\nimport ImportIcsModal from '@/components/admin/ImportIcsModal';\nimport { parseIcsContent } from '@/ai/flows/parse-ics-flow';\nimport { useAuth } from '@/hooks/use-auth';\nimport { useRouter } from 'next/navigation';\nimport AppShell from '@/components/layout/AppShell';\nimport { format, isSameDay } from 'date-fns';\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from '@/components/ui/accordion';\n\nexport default function ServicesPage() {\n  const db = useMockDatabase();\n  const [isCreateEventModalOpen, setCreateEventModalOpen] = useState(false);\n  const [isCreateTemplateModalOpen, setCreateTemplateModalOpen] = useState(false);\n  const [isImportModalOpen, setImportModalOpen] = useState(false);\n  const [selectedDay, setSelectedDay] = useState<Date | null>(null);\n  const [selectedDayEvents, setSelectedDayEvents] = useState<Event[]>([]);\n  const [eventToEdit, setEventToEdit] = useState<Event | null>(null);\n  const { isAdmin, isLoggedIn } = useAuth();\n  const router = useRouter();\n  \n  // A simple way to force re-render when DB changes\n  const [dbVersion, setDbVersion] = useState(0);\n  useEffect(() => {\n    const interval = setInterval(() => {\n        setDbVersion(v => v + 1);\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  useEffect(() => {\n    if (!isLoggedIn) {\n      router.push('/');\n    } else if (!isAdmin) {\n       router.push('/my-schedule');\n    }\n  }, [isLoggedIn, isAdmin, router]);\n\n  const handleDaySelect = (day: Date) => {\n    setSelectedDay(day);\n    const events = db.events.filter(e => e.churchId === db.MOCK_CHURCH_ID && isSameDay(e.eventDate, day))\n      .sort((a,b) => a.eventDate.getTime() - b.eventDate.getTime());\n    setSelectedDayEvents(events);\n  };\n  \n  const handleEditModalClose = () => {\n    setEventToEdit(null)\n  }\n\n  const handleCreateEventModalClose = () => {\n    setCreateEventModalOpen(false)\n  }\n  \n  const handleCreateTemplateModalClose = () => {\n    setCreateTemplateModalOpen(false);\n  }\n\n  const handleOpenCreateTemplateModal = () => {\n    setCreateEventModalOpen(false);\n    setCreateTemplateModalOpen(true);\n  }\n\n  const handleImportModalClose = () => {\n    setImportModalOpen(false);\n  }\n  \n  if (!isLoggedIn || !isAdmin) {\n    return null; // or a loading spinner while redirecting\n  }\n\n  return (\n    <AppShell>\n      <div className=\"flex min-h-screen w-full flex-col bg-muted/40\">\n        <Header />\n        <main className=\"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-8\">\n          <div className=\"flex items-center justify-between flex-wrap gap-4\">\n            <div>\n              <h1 className=\"text-3xl font-bold font-headline tracking-tight\">\n                Service Management\n              </h1>\n              <p className=\"text-muted-foreground mt-1\">\n                Manage, create, and import church services. Click a day to view its events.\n              </p>\n            </div>\n            <div className=\"flex items-center gap-2\">\n                <Button variant=\"outline\" size=\"sm\" onClick={() => setImportModalOpen(true)}>\n                    <Upload className=\"mr-2 h-4 w-4\" /> Import\n                </Button>\n                <Button size=\"sm\" onClick={() => setCreateEventModalOpen(true)}>\n                    <Plus className=\"mr-2 h-4 w-4\" /> Create Service\n                </Button>\n            </div>\n          </div>\n\n          <EventCalendar \n              events={db.events.filter(e => e.churchId === db.MOCK_CHURCH_ID)} \n              onDayClick={handleDaySelect} \n              selectedDay={selectedDay}\n              db={db}\n          />\n          \n          {selectedDayEvents.length > 0 && (\n             <div className=\"animate-fade-in\">\n                <h3 className=\"text-lg font-semibold mb-2 font-headline\">\n                    Events for {format(selectedDayEvents[0].eventDate, 'EEEE, MMMM d, yyyy')}\n                </h3>\n                <Accordion type=\"single\" collapsible className=\"w-full\" defaultValue={selectedDayEvents.length === 1 ? selectedDayEvents[0].id : undefined}>\n                    {selectedDayEvents.map(event => (\n                        <AccordionItem value={event.id} key={event.id} className=\"bg-card border-b-0 rounded-lg shadow-sm mb-2\">\n                           <div className=\"flex items-center justify-between p-4 rounded-t-lg\">\n                               <AccordionTrigger className=\"p-0 hover:no-underline flex-1\">\n                                    <div className=\"text-left\">\n                                        <p className=\"font-headline text-lg\">{event.eventName}</p>\n                                        <p className=\"text-sm text-muted-foreground font-normal\">{format(event.eventDate, 'p')}</p>\n                                    </div>\n                                </AccordionTrigger>\n                                <Button variant=\"outline\" size=\"sm\" onClick={() => setEventToEdit(event)} className=\"ml-4\">\n                                    <Edit className=\"mr-2 h-4 w-4\" /> Edit\n                                </Button>\n                            </div>\n                           <AccordionContent className=\"p-4 pt-0\">\n                                <h4 className=\"font-semibold mb-2 text-sm\">Volunteer Roles</h4>\n                                {event.roles.length > 0 ? (\n                                <div className=\"grid gap-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4\">\n                                    {event.roles.map(role => (\n                                        <div key={role.id} className=\"flex items-center gap-3 p-3 rounded-md border bg-muted/50\">\n                                            <User className=\"h-5 w-5 text-primary\" />\n                                            <div>\n                                                <p className=\"font-semibold\">{role.roleName}</p>\n                                                <p className=\"text-sm text-muted-foreground\">{role.assignedVolunteerName || '(Unassigned)'}</p>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                                ) : (\n                                <p className=\"text-sm text-muted-foreground text-center py-4 border-2 border-dashed rounded-md\">No roles assigned for this service.</p>\n                                )}\n                           </AccordionContent>\n                        </AccordionItem>\n                    ))}\n                </Accordion>\n             </div>\n          )}\n\n        </main>\n        <CreateEventModal\n          isOpen={isCreateEventModalOpen}\n          onClose={handleCreateEventModalClose}\n          db={db}\n          onCreateTemplate={handleOpenCreateTemplateModal}\n        />\n        <CreateTemplateModal\n          isOpen={isCreateTemplateModalOpen}\n          onClose={handleCreateTemplateModalClose}\n          db={db}\n        />\n        <ImportIcsModal\n          isOpen={isImportModalOpen}\n          onClose={handleImportModalClose}\n          importAction={parseIcsContent}\n          createEvent={db.createEvent}\n        />\n        {eventToEdit && (\n          <EventDetailsModal\n            key={eventToEdit.id}\n            event={eventToEdit}\n            isOpen={!!eventToEdit}\n            onClose={handleEditModalClose}\n            db={db}\n          />\n        )}\n      </div>\n    </AppShell>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}